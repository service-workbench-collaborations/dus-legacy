{
 "Description": "MLSLD-S0001. Document Understanding Solution. This stack deploys the backend for DUS",
 "Resources": {
  "dusstacks3logss3bucketklwvnzuavosmhcqyzrwnctDDBE3772": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "cfn_nag": {
     "rules_to_suppress": [
      {
       "id": "W51",
       "reason": "Default usage plan can be used for this API"
      },
      {
       "id": "W35",
       "reason": "This is a logs bucket, no logging desired."
      }
     ]
    }
   }
  },
  "dusstacks3logss3bucketklwvnzuavosmhcqyzrwnctPolicy6E1073AC": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "dusstacks3logss3bucketklwvnzuavosmhcqyzrwnctDDBE3772"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "s3:PutObject",
       "Condition": {
        "ArnLike": {
         "aws:SourceArn": [
          {
           "Fn::GetAtt": [
            "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
            "Arn"
           ]
          },
          {
           "Fn::GetAtt": [
            "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
            "Arn"
           ]
          },
          {
           "Fn::GetAtt": [
            "dusstackbulkprocessingbucketklwvnzuavosmhcqyzrwnctB35AF414",
            "Arn"
           ]
          },
          {
           "Fn::GetAtt": [
            "dusstackclientapps3bucketklwvnzuavosmhcqyzrwnct588A13F7",
            "Arn"
           ]
          }
         ]
        },
        "StringEquals": {
         "aws:SourceAccount": {
          "Ref": "AWS::AccountId"
         }
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Service": "logging.s3.amazonaws.com"
       },
       "Resource": {
        "Fn::Join": [
         "",
         [
          {
           "Fn::GetAtt": [
            "dusstacks3logss3bucketklwvnzuavosmhcqyzrwnctDDBE3772",
            "Arn"
           ]
          },
          "/*"
         ]
        ]
       },
       "Sid": "S3ServerAccessLogsPolicy"
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-s3logss3bucket-klwvnzuavosmhcqyzrwnct/Policy/Resource"
   }
  },
  "dusstackcloudfrontlogss3bucketklwvnzuavosmhcqyzrwnctF49CDA91": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "OwnershipControls": {
     "Rules": [
      {
       "ObjectOwnership": "ObjectWriter"
      }
     ]
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-cloudfrontlogss3bucket-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "CorsConfiguration": {
     "CorsRules": [
      {
       "AllowedHeaders": [
        "*"
       ],
       "AllowedMethods": [
        "HEAD",
        "GET",
        "PUT",
        "POST",
        "DELETE"
       ],
       "AllowedOrigins": [
        "*"
       ],
       "ExposedHeaders": [
        "ETag"
       ],
       "MaxAge": 3000
      }
     ]
    },
    "LoggingConfiguration": {
     "DestinationBucketName": {
      "Ref": "dusstacks3logss3bucketklwvnzuavosmhcqyzrwnctDDBE3772"
     },
     "LogFilePrefix": "document-s3-bucket"
    },
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-documentss3bucket-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctPolicyDA299F3C": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetObject*",
        "s3:List*",
        "s3:PutObject"
       ],
       "Effect": "Allow",
       "Principal": {
        "CanonicalUser": {
         "Fn::GetAtt": [
          "cdktextractoai541398BF",
          "S3CanonicalUserId"
         ]
        }
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-documentss3bucket-klwvnzuavosmhcqyzrwnct/Policy/Resource"
   },
   "Condition": "NonGovCloudPartition"
  },
  "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "CorsConfiguration": {
     "CorsRules": [
      {
       "AllowedHeaders": [
        "*"
       ],
       "AllowedMethods": [
        "HEAD",
        "GET",
        "PUT",
        "POST",
        "DELETE"
       ],
       "AllowedOrigins": [
        "*"
       ],
       "ExposedHeaders": [
        "ETag"
       ],
       "MaxAge": 3000
      }
     ]
    },
    "LoggingConfiguration": {
     "DestinationBucketName": {
      "Ref": "dusstacks3logss3bucketklwvnzuavosmhcqyzrwnctDDBE3772"
     },
     "LogFilePrefix": "sample-s3-bucket"
    },
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-sampless3bucket-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstacksampless3bucketklwvnzuavosmhcqyzrwnctPolicy578C3C8A": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetObject*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Principal": {
        "CanonicalUser": {
         "Fn::GetAtt": [
          "cdktextractoai541398BF",
          "S3CanonicalUserId"
         ]
        }
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-sampless3bucket-klwvnzuavosmhcqyzrwnct/Policy/Resource"
   },
   "Condition": "NonGovCloudPartition"
  },
  "dusstackbulkprocessingbucketklwvnzuavosmhcqyzrwnctB35AF414": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "CorsConfiguration": {
     "CorsRules": [
      {
       "AllowedHeaders": [
        "*"
       ],
       "AllowedMethods": [
        "HEAD",
        "GET",
        "PUT",
        "POST",
        "DELETE"
       ],
       "AllowedOrigins": [
        "*"
       ],
       "ExposedHeaders": [
        "ETag"
       ],
       "MaxAge": 3000
      }
     ]
    },
    "LifecycleConfiguration": {
     "Rules": [
      {
       "ExpirationInDays": 3,
       "Status": "Enabled"
      }
     ]
    },
    "LoggingConfiguration": {
     "DestinationBucketName": {
      "Ref": "dusstacks3logss3bucketklwvnzuavosmhcqyzrwnctDDBE3772"
     },
     "LogFilePrefix": "bulk-processing-s3-bucket"
    },
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-bulkprocessingbucket-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackbulkprocessingbucketklwvnzuavosmhcqyzrwnctNotificationsB155C9F5": {
   "Type": "Custom::S3BucketNotifications",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691",
      "Arn"
     ]
    },
    "BucketName": {
     "Ref": "dusstackbulkprocessingbucketklwvnzuavosmhcqyzrwnctB35AF414"
    },
    "NotificationConfiguration": {
     "QueueConfigurations": [
      {
       "Events": [
        "s3:ObjectCreated:Put"
       ],
       "Filter": {
        "Key": {
         "FilterRules": [
          {
           "Name": "prefix",
           "Value": "documentDrop/"
          }
         ]
        }
       },
       "QueueArn": {
        "Fn::GetAtt": [
         "dusstackdocumentbulkprocessingqueueklwvnzuavosmhcqyzrwnct902A8E64",
         "Arn"
        ]
       }
      },
      {
       "Events": [
        "s3:ObjectCreated:Copy"
       ],
       "Filter": {
        "Key": {
         "FilterRules": [
          {
           "Name": "prefix",
           "Value": "documentDrop/"
          }
         ]
        }
       },
       "QueueArn": {
        "Fn::GetAtt": [
         "dusstackdocumentbulkprocessingqueueklwvnzuavosmhcqyzrwnct902A8E64",
         "Arn"
        ]
       }
      }
     ]
    },
    "Managed": true
   },
   "DependsOn": [
    "dusstackdocumentbulkprocessingqueueklwvnzuavosmhcqyzrwnctPolicy184E4401",
    "dusstackdocumentbulkprocessingqueueklwvnzuavosmhcqyzrwnct902A8E64"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-bulkprocessingbucket-klwvnzuavosmhcqyzrwnct/Notifications/Resource"
   }
  },
  "dusstackclientapps3bucketklwvnzuavosmhcqyzrwnct588A13F7": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "CorsConfiguration": {
     "CorsRules": [
      {
       "AllowedHeaders": [
        "*"
       ],
       "AllowedMethods": [
        "HEAD",
        "GET",
        "PUT",
        "POST",
        "DELETE"
       ],
       "AllowedOrigins": [
        "*"
       ],
       "ExposedHeaders": [
        "ETag"
       ],
       "MaxAge": 3000
      }
     ]
    },
    "LoggingConfiguration": {
     "DestinationBucketName": {
      "Ref": "dusstacks3logss3bucketklwvnzuavosmhcqyzrwnctDDBE3772"
     },
     "LogFilePrefix": "clientapps3bucket"
    },
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    },
    "WebsiteConfiguration": {
     "IndexDocument": "index.html"
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-clientapps3bucket-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackclientapps3bucketklwvnzuavosmhcqyzrwnctPolicy6BFC9C4C": {
   "Type": "AWS::S3::BucketPolicy",
   "Properties": {
    "Bucket": {
     "Ref": "dusstackclientapps3bucketklwvnzuavosmhcqyzrwnct588A13F7"
    },
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "s3:GetObject",
       "Effect": "Allow",
       "Principal": {
        "CanonicalUser": {
         "Fn::GetAtt": [
          "cdktextractoai541398BF",
          "S3CanonicalUserId"
         ]
        }
       },
       "Resource": {
        "Fn::Join": [
         "",
         [
          {
           "Fn::GetAtt": [
            "dusstackclientapps3bucketklwvnzuavosmhcqyzrwnct588A13F7",
            "Arn"
           ]
          },
          "/*"
         ]
        ]
       }
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Principal": {
        "CanonicalUser": {
         "Fn::GetAtt": [
          "cdktextractoai541398BF",
          "S3CanonicalUserId"
         ]
        }
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackclientapps3bucketklwvnzuavosmhcqyzrwnct588A13F7",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackclientapps3bucketklwvnzuavosmhcqyzrwnct588A13F7",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-clientapps3bucket-klwvnzuavosmhcqyzrwnct/Policy/Resource"
   },
   "Condition": "NonGovCloudPartition"
  },
  "cdktextractoai541398BF": {
   "Type": "AWS::CloudFront::CloudFrontOriginAccessIdentity",
   "Properties": {
    "CloudFrontOriginAccessIdentityConfig": {
     "Comment": "Origin Access Identity for Textract web stack bucket cloudfront distribution"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/cdk-textract-oai/Resource"
   },
   "Condition": "NonGovCloudPartition"
  },
  "cdktextractcfrontCFDistribution2BB270FB": {
   "Type": "AWS::CloudFront::Distribution",
   "Properties": {
    "DistributionConfig": {
     "CustomErrorResponses": [
      {
       "ErrorCachingMinTTL": 5,
       "ErrorCode": 404,
       "ResponseCode": 200,
       "ResponsePagePath": "/index.html"
      }
     ],
     "DefaultCacheBehavior": {
      "AllowedMethods": [
       "GET",
       "HEAD"
      ],
      "CachedMethods": [
       "GET",
       "HEAD"
      ],
      "Compress": true,
      "ForwardedValues": {
       "Cookies": {
        "Forward": "none"
       },
       "QueryString": false
      },
      "TargetOriginId": "origin1",
      "ViewerProtocolPolicy": "redirect-to-https"
     },
     "DefaultRootObject": "index.html",
     "Enabled": true,
     "HttpVersion": "http2",
     "IPV6Enabled": true,
     "Logging": {
      "Bucket": {
       "Fn::GetAtt": [
        "dusstackcloudfrontlogss3bucketklwvnzuavosmhcqyzrwnctF49CDA91",
        "RegionalDomainName"
       ]
      },
      "IncludeCookies": true,
      "Prefix": "cloudfrontDistributionLogs"
     },
     "Origins": [
      {
       "ConnectionAttempts": 3,
       "ConnectionTimeout": 10,
       "DomainName": {
        "Fn::GetAtt": [
         "dusstackclientapps3bucketklwvnzuavosmhcqyzrwnct588A13F7",
         "RegionalDomainName"
        ]
       },
       "Id": "origin1",
       "S3OriginConfig": {
        "OriginAccessIdentity": {
         "Fn::Join": [
          "",
          [
           "origin-access-identity/cloudfront/",
           {
            "Ref": "cdktextractoai541398BF"
           }
          ]
         ]
        }
       }
      }
     ],
     "PriceClass": "PriceClass_100",
     "ViewerCertificate": {
      "CloudFrontDefaultCertificate": true
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/cdk-textract-cfront/CFDistribution"
   },
   "Condition": "NonGovCloudPartition"
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnct2491DE91": {
   "Type": "AWS::EC2::VPC",
   "Properties": {
    "CidrBlock": "172.62.0.0/16",
    "EnableDnsHostnames": true,
    "EnableDnsSupport": true,
    "InstanceTenancy": "default",
    "Tags": [
     {
      "Key": "Name",
      "Value": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet1Subnet1A256352": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "VpcId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnct2491DE91"
    },
    "AvailabilityZone": {
     "Fn::Select": [
      0,
      {
       "Fn::GetAZs": ""
      }
     ]
    },
    "CidrBlock": "172.62.0.0/18",
    "MapPublicIpOnLaunch": true,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "Public"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Public"
     },
     {
      "Key": "Name",
      "Value": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet1"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet1/Subnet"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet1RouteTable21E4E918": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "VpcId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnct2491DE91"
    },
    "Tags": [
     {
      "Key": "Name",
      "Value": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet1"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet1/RouteTable"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet1RouteTableAssociation9ED0D83C": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet1RouteTable21E4E918"
    },
    "SubnetId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet1Subnet1A256352"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet1/RouteTableAssociation"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet1DefaultRoute051C6A31": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "RouteTableId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet1RouteTable21E4E918"
    },
    "DestinationCidrBlock": "0.0.0.0/0",
    "GatewayId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctIGW26774113"
    }
   },
   "DependsOn": [
    "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctVPCGW05753270"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet1/DefaultRoute"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet1EIPAFE7A125": {
   "Type": "AWS::EC2::EIP",
   "Properties": {
    "Domain": "vpc",
    "Tags": [
     {
      "Key": "Name",
      "Value": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet1"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet1/EIP"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet1NATGateway54007720": {
   "Type": "AWS::EC2::NatGateway",
   "Properties": {
    "SubnetId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet1Subnet1A256352"
    },
    "AllocationId": {
     "Fn::GetAtt": [
      "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet1EIPAFE7A125",
      "AllocationId"
     ]
    },
    "Tags": [
     {
      "Key": "Name",
      "Value": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet1"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet1/NATGateway"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet2Subnet15EAFAA9": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "VpcId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnct2491DE91"
    },
    "AvailabilityZone": {
     "Fn::Select": [
      1,
      {
       "Fn::GetAZs": ""
      }
     ]
    },
    "CidrBlock": "172.62.64.0/18",
    "MapPublicIpOnLaunch": true,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "Public"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Public"
     },
     {
      "Key": "Name",
      "Value": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet2/Subnet"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet2RouteTableF40962D7": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "VpcId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnct2491DE91"
    },
    "Tags": [
     {
      "Key": "Name",
      "Value": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet2/RouteTable"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet2RouteTableAssociationD793479B": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet2RouteTableF40962D7"
    },
    "SubnetId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet2Subnet15EAFAA9"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet2/RouteTableAssociation"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet2DefaultRouteF97B1C36": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "RouteTableId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet2RouteTableF40962D7"
    },
    "DestinationCidrBlock": "0.0.0.0/0",
    "GatewayId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctIGW26774113"
    }
   },
   "DependsOn": [
    "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctVPCGW05753270"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet2/DefaultRoute"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet2EIPB3E1C175": {
   "Type": "AWS::EC2::EIP",
   "Properties": {
    "Domain": "vpc",
    "Tags": [
     {
      "Key": "Name",
      "Value": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet2/EIP"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet2NATGateway09ED8A81": {
   "Type": "AWS::EC2::NatGateway",
   "Properties": {
    "SubnetId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet2Subnet15EAFAA9"
    },
    "AllocationId": {
     "Fn::GetAtt": [
      "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet2EIPB3E1C175",
      "AllocationId"
     ]
    },
    "Tags": [
     {
      "Key": "Name",
      "Value": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PublicSubnet2/NATGateway"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet1Subnet256E87CF": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "VpcId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnct2491DE91"
    },
    "AvailabilityZone": {
     "Fn::Select": [
      0,
      {
       "Fn::GetAZs": ""
      }
     ]
    },
    "CidrBlock": "172.62.128.0/18",
    "MapPublicIpOnLaunch": false,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "Private"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Private"
     },
     {
      "Key": "Name",
      "Value": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PrivateSubnet1"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PrivateSubnet1/Subnet"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet1RouteTable0132A4C7": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "VpcId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnct2491DE91"
    },
    "Tags": [
     {
      "Key": "Name",
      "Value": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PrivateSubnet1"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PrivateSubnet1/RouteTable"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet1RouteTableAssociation36092CF6": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet1RouteTable0132A4C7"
    },
    "SubnetId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet1Subnet256E87CF"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PrivateSubnet1/RouteTableAssociation"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet1DefaultRoute70FC6454": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "RouteTableId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet1RouteTable0132A4C7"
    },
    "DestinationCidrBlock": "0.0.0.0/0",
    "NatGatewayId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet1NATGateway54007720"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PrivateSubnet1/DefaultRoute"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet2SubnetE28C4948": {
   "Type": "AWS::EC2::Subnet",
   "Properties": {
    "VpcId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnct2491DE91"
    },
    "AvailabilityZone": {
     "Fn::Select": [
      1,
      {
       "Fn::GetAZs": ""
      }
     ]
    },
    "CidrBlock": "172.62.192.0/18",
    "MapPublicIpOnLaunch": false,
    "Tags": [
     {
      "Key": "aws-cdk:subnet-name",
      "Value": "Private"
     },
     {
      "Key": "aws-cdk:subnet-type",
      "Value": "Private"
     },
     {
      "Key": "Name",
      "Value": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PrivateSubnet2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PrivateSubnet2/Subnet"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet2RouteTable570CD31A": {
   "Type": "AWS::EC2::RouteTable",
   "Properties": {
    "VpcId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnct2491DE91"
    },
    "Tags": [
     {
      "Key": "Name",
      "Value": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PrivateSubnet2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PrivateSubnet2/RouteTable"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet2RouteTableAssociationB5D58B70": {
   "Type": "AWS::EC2::SubnetRouteTableAssociation",
   "Properties": {
    "RouteTableId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet2RouteTable570CD31A"
    },
    "SubnetId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet2SubnetE28C4948"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PrivateSubnet2/RouteTableAssociation"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet2DefaultRoute6F4CC924": {
   "Type": "AWS::EC2::Route",
   "Properties": {
    "RouteTableId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet2RouteTable570CD31A"
    },
    "DestinationCidrBlock": "0.0.0.0/0",
    "NatGatewayId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPublicSubnet2NATGateway09ED8A81"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/PrivateSubnet2/DefaultRoute"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctIGW26774113": {
   "Type": "AWS::EC2::InternetGateway",
   "Properties": {
    "Tags": [
     {
      "Key": "Name",
      "Value": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/IGW"
   }
  },
  "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctVPCGW05753270": {
   "Type": "AWS::EC2::VPCGatewayAttachment",
   "Properties": {
    "VpcId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnct2491DE91"
    },
    "InternetGatewayId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctIGW26774113"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchvpc-klwvnzuavosmhcqyzrwnct/VPCGW"
   }
  },
  "dusstackessecuritygroupklwvnzuavosmhcqyzrwnct3A76C2EF": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "DUSStack/dusstack-essecuritygroup-klwvnzuavosmhcqyzrwnct",
    "GroupName": "Elasticsearch from lambda",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "SecurityGroupIngress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "allow lambda ingress",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnct2491DE91"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-essecuritygroup-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "esEncryptionKey7A7DDC6B": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "KeyPolicy": {
     "Statement": [
      {
       "Action": [
        "kms:Create*",
        "kms:Describe*",
        "kms:Enable*",
        "kms:List*",
        "kms:Put*",
        "kms:Update*",
        "kms:Revoke*",
        "kms:Disable*",
        "kms:Get*",
        "kms:Delete*",
        "kms:ScheduleKeyDeletion",
        "kms:CancelKeyDeletion",
        "kms:GenerateDataKey",
        "kms:TagResource",
        "kms:UntagResource"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":iam::",
           {
            "Ref": "AWS::AccountId"
           },
           ":root"
          ]
         ]
        }
       },
       "Resource": "*"
      },
      {
       "Action": [
        "kms:Decrypt",
        "kms:Encrypt",
        "kms:ReEncrypt*",
        "kms:GenerateDataKey*"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "dusstacksyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleD54D1601",
          "Arn"
         ]
        }
       },
       "Resource": "*"
      },
      {
       "Action": [
        "kms:Decrypt",
        "kms:Encrypt",
        "kms:ReEncrypt*",
        "kms:GenerateDataKey*"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "dusstackjobresultprocessorklwvnzuavosmhcqyzrwnctServiceRole36742D60",
          "Arn"
         ]
        }
       },
       "Resource": "*"
      },
      {
       "Action": [
        "kms:Decrypt",
        "kms:Encrypt",
        "kms:ReEncrypt*",
        "kms:GenerateDataKey*"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "dusstackapiprocessorklwvnzuavosmhcqyzrwnctServiceRole3EA98EC5",
          "Arn"
         ]
        }
       },
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "EnableKeyRotation": true
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "DUSStack/esEncryptionKey/Resource"
   }
  },
  "dusstackelasticsearchclusterklwvnzuavosmhcqyzrwnct": {
   "Type": "AWS::Elasticsearch::Domain",
   "Properties": {
    "EBSOptions": {
     "EBSEnabled": true,
     "VolumeSize": 20,
     "VolumeType": "gp2"
    },
    "ElasticsearchClusterConfig": {
     "DedicatedMasterEnabled": true,
     "InstanceCount": 2,
     "InstanceType": "m5.large.elasticsearch",
     "ZoneAwarenessConfig": {
      "AvailabilityZoneCount": 2
     },
     "ZoneAwarenessEnabled": true
    },
    "ElasticsearchVersion": "7.4",
    "EncryptionAtRestOptions": {
     "Enabled": true,
     "KmsKeyId": {
      "Ref": "esEncryptionKey7A7DDC6B"
     }
    },
    "NodeToNodeEncryptionOptions": {
     "Enabled": true
    },
    "VPCOptions": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "dusstackessecuritygroupklwvnzuavosmhcqyzrwnct3A76C2EF",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      {
       "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet1Subnet256E87CF"
      },
      {
       "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet2SubnetE28C4948"
      }
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchcluster-klwvnzuavosmhcqyzrwnct"
   }
  },
  "dusstackjobresultskeyklwvnzuavosmhcqyzrwnct78ADBE16": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "KeyPolicy": {
     "Statement": [
      {
       "Action": [
        "kms:GenerateDataKey*",
        "kms:Decrypt"
       ],
       "Effect": "Allow",
       "Principal": {
        "Service": [
         "sns.amazonaws.com",
         "lambda.amazonaws.com",
         "textract.amazonaws.com",
         "sqs.amazonaws.com"
        ]
       },
       "Resource": "*",
       "Sid": "0"
      },
      {
       "Action": "kms:*",
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":iam::",
           {
            "Ref": "AWS::AccountId"
           },
           ":root"
          ]
         ]
        }
       },
       "Resource": "*",
       "Sid": "1"
      },
      {
       "Action": [
        "kms:Decrypt",
        "kms:GenerateDataKey"
       ],
       "Effect": "Allow",
       "Principal": {
        "Service": "sns.amazonaws.com"
       },
       "Resource": "*",
       "Sid": "2"
      }
     ],
     "Version": "2012-10-17"
    },
    "Enabled": true,
    "EnableKeyRotation": true
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-jobresultskey-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackjobcompletiontopicklwvnzuavosmhcqyzrwnct404C78BD": {
   "Type": "AWS::SNS::Topic",
   "Properties": {
    "DisplayName": "Job completion topic",
    "KmsMasterKeyId": {
     "Fn::GetAtt": [
      "dusstackjobresultskeyklwvnzuavosmhcqyzrwnct78ADBE16",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-jobcompletiontopic-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstacktextractserviceroleklwvnzuavosmhcqyzrwnctB062E036": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "textract.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-textractservicerole-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstacktextractserviceroleklwvnzuavosmhcqyzrwnctDefaultPolicy202FD213": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "sns:Publish",
       "Effect": "Allow",
       "Resource": {
        "Ref": "dusstackjobcompletiontopicklwvnzuavosmhcqyzrwnct404C78BD"
       }
      },
      {
       "Action": [
        "kms:Decrypt",
        "kms:GenerateDataKey*"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackjobresultskeyklwvnzuavosmhcqyzrwnct78ADBE16",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstacktextractserviceroleklwvnzuavosmhcqyzrwnctDefaultPolicy202FD213",
    "Roles": [
     {
      "Ref": "dusstacktextractserviceroleklwvnzuavosmhcqyzrwnctB062E036"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-textractservicerole-klwvnzuavosmhcqyzrwnct/DefaultPolicy/Resource"
   }
  },
  "dusstackoutputtableklwvnzuavosmhcqyzrwnct8E6139F0": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "KeySchema": [
     {
      "AttributeName": "documentId",
      "KeyType": "HASH"
     },
     {
      "AttributeName": "outputType",
      "KeyType": "RANGE"
     }
    ],
    "AttributeDefinitions": [
     {
      "AttributeName": "documentId",
      "AttributeType": "S"
     },
     {
      "AttributeName": "outputType",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "SSESpecification": {
     "SSEEnabled": true
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-outputtable-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackdocumentstableklwvnzuavosmhcqyzrwnctE19E1630": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "KeySchema": [
     {
      "AttributeName": "documentId",
      "KeyType": "HASH"
     }
    ],
    "AttributeDefinitions": [
     {
      "AttributeName": "documentId",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "SSESpecification": {
     "SSEEnabled": true
    },
    "StreamSpecification": {
     "StreamViewType": "NEW_IMAGE"
    }
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-documentstable-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackbulkprocessorjobsdlqklwvnzuavosmhcqyzrwnct4CFB70DD": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "KmsMasterKeyId": "alias/aws/sqs",
    "MessageRetentionPeriod": 1209600,
    "VisibilityTimeout": 120
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-bulkprocessorjobsdlq-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackbulkprocessorkeyklwvnzuavosmhcqyzrwnctFC6E54E3": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "KeyPolicy": {
     "Statement": [
      {
       "Action": [
        "kms:Create*",
        "kms:Describe*",
        "kms:Enable*",
        "kms:List*",
        "kms:Put*",
        "kms:Update*",
        "kms:Revoke*",
        "kms:Disable*",
        "kms:Get*",
        "kms:Delete*",
        "kms:ScheduleKeyDeletion",
        "kms:CancelKeyDeletion",
        "kms:GenerateDataKey",
        "kms:TagResource",
        "kms:UntagResource"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":iam::",
           {
            "Ref": "AWS::AccountId"
           },
           ":root"
          ]
         ]
        }
       },
       "Resource": "*"
      },
      {
       "Action": [
        "kms:GenerateDataKey",
        "kms:Decrypt"
       ],
       "Effect": "Allow",
       "Principal": {
        "Service": "s3.amazonaws.com"
       },
       "Resource": "*"
      },
      {
       "Action": [
        "kms:Decrypt",
        "kms:Encrypt",
        "kms:ReEncrypt*",
        "kms:GenerateDataKey*"
       ],
       "Condition": {
        "ArnLike": {
         "aws:SourceArn": {
          "Fn::GetAtt": [
           "dusstackbulkprocessingbucketklwvnzuavosmhcqyzrwnctB35AF414",
           "Arn"
          ]
         }
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Service": "s3.amazonaws.com"
       },
       "Resource": "*"
      },
      {
       "Action": [
        "kms:GenerateDataKey*",
        "kms:Decrypt"
       ],
       "Effect": "Allow",
       "Principal": {
        "Service": "s3.amazonaws.com"
       },
       "Resource": "*"
      },
      {
       "Action": "kms:Decrypt",
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "dusstackdocumentbulkprocessorklwvnzuavosmhcqyzrwnctServiceRole8F69E4BA",
          "Arn"
         ]
        }
       },
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "EnableKeyRotation": true
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-bulkprocessorkey-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackdocumentbulkprocessingqueueklwvnzuavosmhcqyzrwnct902A8E64": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "KmsMasterKeyId": {
     "Fn::GetAtt": [
      "dusstackbulkprocessorkeyklwvnzuavosmhcqyzrwnctFC6E54E3",
      "Arn"
     ]
    },
    "MessageRetentionPeriod": 1209600,
    "RedrivePolicy": {
     "deadLetterTargetArn": {
      "Fn::GetAtt": [
       "dusstackbulkprocessorjobsdlqklwvnzuavosmhcqyzrwnct4CFB70DD",
       "Arn"
      ]
     },
     "maxReceiveCount": 3
    },
    "VisibilityTimeout": 600
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-documentbulkprocessingqueue-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackdocumentbulkprocessingqueueklwvnzuavosmhcqyzrwnctPolicy184E4401": {
   "Type": "AWS::SQS::QueuePolicy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "sqs:SendMessage",
        "sqs:GetQueueUrl",
        "sqs:GetQueueAttributes"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":iam::",
           {
            "Ref": "AWS::AccountId"
           },
           ":root"
          ]
         ]
        },
        "Service": "s3.amazonaws.com"
       },
       "Resource": "*"
      },
      {
       "Action": [
        "sqs:SendMessage",
        "sqs:GetQueueAttributes",
        "sqs:GetQueueUrl"
       ],
       "Condition": {
        "ArnLike": {
         "aws:SourceArn": {
          "Fn::GetAtt": [
           "dusstackbulkprocessingbucketklwvnzuavosmhcqyzrwnctB35AF414",
           "Arn"
          ]
         }
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Service": "s3.amazonaws.com"
       },
       "Resource": {
        "Fn::GetAtt": [
         "dusstackdocumentbulkprocessingqueueklwvnzuavosmhcqyzrwnct902A8E64",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Queues": [
     {
      "Ref": "dusstackdocumentbulkprocessingqueueklwvnzuavosmhcqyzrwnct902A8E64"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-documentbulkprocessingqueue-klwvnzuavosmhcqyzrwnct/Policy/Resource"
   }
  },
  "dusstacksyncjobsdlqklwvnzuavosmhcqyzrwnct4022E86E": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "KmsMasterKeyId": "alias/aws/sqs",
    "MessageRetentionPeriod": 1209600,
    "VisibilityTimeout": 120
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-syncjobsdlq-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstacksyncjobsklwvnzuavosmhcqyzrwnct9FB0A32E": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "KmsMasterKeyId": "alias/aws/sqs",
    "MessageRetentionPeriod": 1209600,
    "RedrivePolicy": {
     "deadLetterTargetArn": {
      "Fn::GetAtt": [
       "dusstacksyncjobsdlqklwvnzuavosmhcqyzrwnct4022E86E",
       "Arn"
      ]
     },
     "maxReceiveCount": 3
    },
    "VisibilityTimeout": 900
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-syncjobs-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackasyncjobsdlqklwvnzuavosmhcqyzrwnct27D38AE1": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "KmsMasterKeyId": "alias/aws/sqs",
    "MessageRetentionPeriod": 1209600,
    "VisibilityTimeout": 120
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-asyncjobsdlq-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackasyncjobsklwvnzuavosmhcqyzrwnct8D87B0C8": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "KmsMasterKeyId": "alias/aws/sqs",
    "MessageRetentionPeriod": 1209600,
    "RedrivePolicy": {
     "deadLetterTargetArn": {
      "Fn::GetAtt": [
       "dusstackasyncjobsdlqklwvnzuavosmhcqyzrwnct27D38AE1",
       "Arn"
      ]
     },
     "maxReceiveCount": 3
    },
    "VisibilityTimeout": 120
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-asyncjobs-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackjoberrorhandlerdlqklwvnzuavosmhcqyzrwnctAE4550AA": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "KmsMasterKeyId": "alias/aws/sqs",
    "MessageRetentionPeriod": 1209600,
    "VisibilityTimeout": 60
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-joberrorhandlerdlq-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackjoberrorhandlerklwvnzuavosmhcqyzrwnct52500D6A": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "KmsMasterKeyId": "alias/aws/sqs",
    "MessageRetentionPeriod": 1209600,
    "RedrivePolicy": {
     "deadLetterTargetArn": {
      "Fn::GetAtt": [
       "dusstackjoberrorhandlerdlqklwvnzuavosmhcqyzrwnctAE4550AA",
       "Arn"
      ]
     },
     "maxReceiveCount": 3
    },
    "VisibilityTimeout": 60
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-joberrorhandler-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackjobresultsdlqklwvnzuavosmhcqyzrwnctDB505CB7": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "KmsMasterKeyId": "alias/aws/sqs",
    "MessageRetentionPeriod": 1209600,
    "VisibilityTimeout": 900
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-jobresultsdlq-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackjobresultsklwvnzuavosmhcqyzrwnct322BC24D": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "KmsDataKeyReusePeriodSeconds": 86400,
    "KmsMasterKeyId": {
     "Fn::GetAtt": [
      "dusstackjobresultskeyklwvnzuavosmhcqyzrwnct78ADBE16",
      "Arn"
     ]
    },
    "MessageRetentionPeriod": 1209600,
    "RedrivePolicy": {
     "deadLetterTargetArn": {
      "Fn::GetAtt": [
       "dusstackjobresultsdlqklwvnzuavosmhcqyzrwnctDB505CB7",
       "Arn"
      ]
     },
     "maxReceiveCount": 3
    },
    "VisibilityTimeout": 900
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-jobresults-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackjobresultsklwvnzuavosmhcqyzrwnctPolicy1FE0A311": {
   "Type": "AWS::SQS::QueuePolicy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "sqs:SendMessage",
       "Condition": {
        "ArnEquals": {
         "aws:SourceArn": {
          "Ref": "dusstackjobcompletiontopicklwvnzuavosmhcqyzrwnct404C78BD"
         }
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Service": "sns.amazonaws.com"
       },
       "Resource": {
        "Fn::GetAtt": [
         "dusstackjobresultsklwvnzuavosmhcqyzrwnct322BC24D",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Queues": [
     {
      "Ref": "dusstackjobresultsklwvnzuavosmhcqyzrwnct322BC24D"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-jobresults-klwvnzuavosmhcqyzrwnct/Policy/Resource"
   }
  },
  "dusstackjobresultsklwvnzuavosmhcqyzrwnctDUSStackdusstackjobcompletiontopicklwvnzuavosmhcqyzrwnctBCB5BBB56CE50B8A": {
   "Type": "AWS::SNS::Subscription",
   "Properties": {
    "Protocol": "sqs",
    "TopicArn": {
     "Ref": "dusstackjobcompletiontopicklwvnzuavosmhcqyzrwnct404C78BD"
    },
    "Endpoint": {
     "Fn::GetAtt": [
      "dusstackjobresultsklwvnzuavosmhcqyzrwnct322BC24D",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-jobresults-klwvnzuavosmhcqyzrwnct/DUSStackdusstackjobcompletiontopicklwvnzuavosmhcqyzrwnctBCB5BBB5/Resource"
   }
  },
  "textractuserpool": {
   "Type": "AWS::Cognito::UserPool",
   "Properties": {
    "AdminCreateUserConfig": {
     "AllowAdminCreateUserOnly": true,
     "InviteMessageTemplate": {
      "EmailMessage": {
       "Fn::If": [
        "NonGovCloudPartition",
        {
         "Fn::Join": [
          "",
          [
           "<p>You are invited to try the Document Understanding Solution. Your credentials are:</p>                 <p>                 Username: <strong>{username}</strong><br />                 Password: <strong>{####}</strong>                 </p>                 <p>                Please wait until the deployent has completed for both DUS and DUSClient stacks before accessing the website                 </p>                <p>                 Please sign in with the user name and your temporary password provided above at: <br />                 https://",
           {
            "Fn::GetAtt": [
             "cdktextractcfrontCFDistribution2BB270FB",
             "DomainName"
            ]
           },
           "                 </p>                "
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "<p>You are invited to try the Document Understanding Solution. Your credentials are:</p>                 <p>                 Username: <strong>{username}</strong><br />                 Password: <strong>{####}</strong>                 </p>                 <p>                Please wait until the deployent has completed for both DUS and DUSClient stacks before accessing the website                 </p>                <p>                 Please sign in with the user name and your temporary password provided above at: <br />                 ",
           {
            "Fn::GetAtt": [
             "dusstackclientapps3bucketklwvnzuavosmhcqyzrwnct588A13F7",
             "WebsiteURL"
            ]
           },
           "                 </p>              "
          ]
         ]
        }
       ]
      },
      "EmailSubject": "Your DUS login"
     },
     "UnusedAccountValidityDays": 7
    },
    "AliasAttributes": [
     "email"
    ],
    "AutoVerifiedAttributes": [
     "email"
    ],
    "MfaConfiguration": "OFF",
    "Policies": {
     "PasswordPolicy": {
      "MinimumLength": 8,
      "RequireLowercase": true,
      "RequireNumbers": true,
      "RequireSymbols": true,
      "RequireUppercase": true
     }
    },
    "UserPoolAddOns": {
     "Fn::If": [
      "NonGovCloudPartition",
      {
       "AdvancedSecurityMode": "ENFORCED"
      },
      {
       "Ref": "AWS::NoValue"
      }
     ]
    }
   },
   "Metadata": {
    "cfn_nag": {
     "rules_to_suppress": [
      {
       "id": "F78",
       "reason": "MFA Configuration is not required for this solution"
      }
     ]
    }
   }
  },
  "textractuserpooluser": {
   "Type": "AWS::Cognito::UserPoolUser",
   "Properties": {
    "UserPoolId": {
     "Ref": "textractuserpool"
    },
    "DesiredDeliveryMediums": [
     "EMAIL"
    ],
    "ForceAliasCreation": false,
    "UserAttributes": [
     {
      "Name": "email",
      "Value": "yeanw+dus@amazon.com"
     }
    ],
    "Username": "yeanw+dus.amazon.com"
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/textract-user-pool-user"
   }
  },
  "textractuserpoolclient": {
   "Type": "AWS::Cognito::UserPoolClient",
   "Properties": {
    "UserPoolId": {
     "Ref": "textractuserpool"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/textract-user-pool-client"
   }
  },
  "textractidentitypool": {
   "Type": "AWS::Cognito::IdentityPool",
   "Properties": {
    "AllowUnauthenticatedIdentities": false,
    "CognitoIdentityProviders": [
     {
      "ClientId": {
       "Ref": "textractuserpoolclient"
      },
      "ProviderName": {
       "Fn::GetAtt": [
        "textractuserpool",
        "ProviderName"
       ]
      },
      "ServerSideTokenCheck": false
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/textract-identity-pool"
   }
  },
  "textractcognitoauthenticatedrole": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRoleWithWebIdentity",
       "Condition": {
        "Fn::If": [
         "NonGovCloudPartition",
         {
          "StringEquals": {
           "cognito-identity.amazonaws.com:aud": {
            "Ref": "textractidentitypool"
           }
          },
          "ForAnyValue:StringLike": {
           "cognito-identity.amazonaws.com:amr": "authenticated"
          }
         },
         {
          "StringEquals": {
           "cognito-identity-us-gov.amazonaws.com:aud": {
            "Ref": "textractidentitypool"
           }
          },
          "ForAnyValue:StringLike": {
           "cognito-identity-us-gov.amazonaws.com:amr": "authenticated"
          }
         }
        ]
       },
       "Effect": "Allow",
       "Principal": {
        "Federated": {
         "Fn::Join": [
          "",
          [
           "cognito-identity",
           {
            "Fn::If": [
             "NonGovCloudPartition",
             "",
             "-us-gov"
            ]
           },
           ".amazonaws.com"
          ]
         ]
        }
       }
      }
     ]
    },
    "Description": "Role policy for Cognito web identity",
    "Path": "/"
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/textract-cognito-authenticated-role"
   }
  },
  "textractcognitopolicyA8228594": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "cognito-identity:GetId",
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":cognito-identity:",
          {
           "Ref": "AWS::Region"
          },
          ":",
          {
           "Ref": "AWS::AccountId"
          },
          ":identitypool/",
          {
           "Ref": "textractidentitypool"
          }
         ]
        ]
       }
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:List*",
        "s3:PutObject"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "execute-api:Invoke",
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":execute-api:",
          {
           "Ref": "AWS::Region"
          },
          ":",
          {
           "Ref": "AWS::AccountId"
          },
          ":",
          {
           "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
          },
          "/*/*/*"
         ]
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "textractcognitopolicyA8228594",
    "Roles": [
     {
      "Fn::Select": [
       1,
       {
        "Fn::Split": [
         "/",
         {
          "Fn::Select": [
           5,
           {
            "Fn::Split": [
             ":",
             {
              "Fn::GetAtt": [
               "textractcognitoauthenticatedrole",
               "Arn"
              ]
             }
            ]
           }
          ]
         }
        ]
       }
      ]
     }
    ]
   },
   "Metadata": {
    "cfn_nag": {
     "rules_to_suppress": [
      {
       "id": "W11",
       "reason": "The resources in the policy are created/managed by this solution."
      }
     ]
    }
   }
  },
  "textractidentityrolepoolattachment": {
   "Type": "AWS::Cognito::IdentityPoolRoleAttachment",
   "Properties": {
    "IdentityPoolId": {
     "Ref": "textractidentitypool"
    },
    "Roles": {
     "authenticated": {
      "Fn::GetAtt": [
       "textractcognitoauthenticatedrole",
       "Arn"
      ]
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/textract-identity-role-pool-attachment"
   }
  },
  "dusstackhelperlayerklwvnzuavosmhcqyzrwnctC82BAE7D": {
   "Type": "AWS::Lambda::LayerVersion",
   "Properties": {
    "Content": {
     "S3Bucket": {
      "Ref": "AssetParametersd558412c606e9eb5ec7ea4d8a5b32d8ed6e459c54e162694770d0e9fada396dfS3BucketA9022858"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParametersd558412c606e9eb5ec7ea4d8a5b32d8ed6e459c54e162694770d0e9fada396dfS3VersionKeyD2004705"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParametersd558412c606e9eb5ec7ea4d8a5b32d8ed6e459c54e162694770d0e9fada396dfS3VersionKeyD2004705"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "CompatibleRuntimes": [
     "python3.8"
    ],
    "LicenseInfo": "Apache-2.0"
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-helperlayer-klwvnzuavosmhcqyzrwnct/Resource",
    "aws:asset:path": "asset.d558412c606e9eb5ec7ea4d8a5b32d8ed6e459c54e162694770d0e9fada396df",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Content"
   }
  },
  "dusstacktextractorklwvnzuavosmhcqyzrwnctDD177568": {
   "Type": "AWS::Lambda::LayerVersion",
   "Properties": {
    "Content": {
     "S3Bucket": {
      "Ref": "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67S3BucketE167FF79"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67S3VersionKey9C912232"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67S3VersionKey9C912232"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "CompatibleRuntimes": [
     "python3.8"
    ],
    "LicenseInfo": "Apache-2.0"
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-textractor-klwvnzuavosmhcqyzrwnct/Resource",
    "aws:asset:path": "asset.9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Content"
   }
  },
  "dusstackboto3klwvnzuavosmhcqyzrwnct1EE4528D": {
   "Type": "AWS::Lambda::LayerVersion",
   "Properties": {
    "Content": {
     "S3Bucket": "dus-installer-app1-us-east-1",
     "S3Key": "dus-legacy/v1.0.0/boto3-layer.zip"
    },
    "CompatibleRuntimes": [
     "python3.8"
    ],
    "LicenseInfo": "Apache-2.0"
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-boto3-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackelasticsearchlayerklwvnzuavosmhcqyzrwnct73FD7492": {
   "Type": "AWS::Lambda::LayerVersion",
   "Properties": {
    "Content": {
     "S3Bucket": {
      "Ref": "AssetParameters181a7f6eebcf61ab3dc159de340bb7c799229ee840587000362de752b73c5959S3Bucket4FCDB1B7"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters181a7f6eebcf61ab3dc159de340bb7c799229ee840587000362de752b73c5959S3VersionKey62A59BE2"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters181a7f6eebcf61ab3dc159de340bb7c799229ee840587000362de752b73c5959S3VersionKey62A59BE2"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "CompatibleRuntimes": [
     "python3.8"
    ],
    "LicenseInfo": "Apache-2.0"
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-elasticsearchlayer-klwvnzuavosmhcqyzrwnct/Resource",
    "aws:asset:path": "asset.181a7f6eebcf61ab3dc159de340bb7c799229ee840587000362de752b73c5959.zip",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Content"
   }
  },
  "dusstackdocumentbulkprocessorklwvnzuavosmhcqyzrwnctServiceRole8F69E4BA": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-documentbulkprocessor-klwvnzuavosmhcqyzrwnct/ServiceRole/Resource"
   }
  },
  "dusstackdocumentbulkprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy688F990C": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "xray:PutTraceSegments",
        "xray:PutTelemetryRecords"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackdocumentstableklwvnzuavosmhcqyzrwnctE19E1630",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackoutputtableklwvnzuavosmhcqyzrwnct8E6139F0",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*",
        "s3:DeleteObject*",
        "s3:PutObject*",
        "s3:Abort*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*",
        "s3:DeleteObject*",
        "s3:PutObject*",
        "s3:Abort*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackbulkprocessingbucketklwvnzuavosmhcqyzrwnctB35AF414",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackbulkprocessingbucketklwvnzuavosmhcqyzrwnctB35AF414",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "sqs:ReceiveMessage",
        "sqs:ChangeMessageVisibility",
        "sqs:GetQueueUrl",
        "sqs:DeleteMessage",
        "sqs:GetQueueAttributes"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackdocumentbulkprocessingqueueklwvnzuavosmhcqyzrwnct902A8E64",
         "Arn"
        ]
       }
      },
      {
       "Action": "kms:Decrypt",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackbulkprocessorkeyklwvnzuavosmhcqyzrwnctFC6E54E3",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstackdocumentbulkprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy688F990C",
    "Roles": [
     {
      "Ref": "dusstackdocumentbulkprocessorklwvnzuavosmhcqyzrwnctServiceRole8F69E4BA"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-documentbulkprocessor-klwvnzuavosmhcqyzrwnct/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "dusstackdocumentbulkprocessorklwvnzuavosmhcqyzrwnct415F0A0F": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Ref": "AssetParameters0a54d85b76e30fa68fafdb60f16345e7192dd83b39d1d20e59e88f4d72a8c31cS3Bucket1CF1AE5E"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters0a54d85b76e30fa68fafdb60f16345e7192dd83b39d1d20e59e88f4d72a8c31cS3VersionKey766403FA"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters0a54d85b76e30fa68fafdb60f16345e7192dd83b39d1d20e59e88f4d72a8c31cS3VersionKey766403FA"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "dusstackdocumentbulkprocessorklwvnzuavosmhcqyzrwnctServiceRole8F69E4BA",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "DOCUMENTS_BUCKET": {
       "Ref": "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2"
      },
      "OUTPUT_TABLE": {
       "Ref": "dusstackoutputtableklwvnzuavosmhcqyzrwnct8E6139F0"
      },
      "DOCUMENTS_TABLE": {
       "Ref": "dusstackdocumentstableklwvnzuavosmhcqyzrwnctE19E1630"
      }
     }
    },
    "Handler": "lambda_function.lambda_handler",
    "Layers": [
     {
      "Ref": "dusstackhelperlayerklwvnzuavosmhcqyzrwnctC82BAE7D"
     }
    ],
    "ReservedConcurrentExecutions": 1,
    "Runtime": "python3.8",
    "Timeout": 300,
    "TracingConfig": {
     "Mode": "Active"
    }
   },
   "DependsOn": [
    "dusstackdocumentbulkprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy688F990C",
    "dusstackdocumentbulkprocessorklwvnzuavosmhcqyzrwnctServiceRole8F69E4BA"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-documentbulkprocessor-klwvnzuavosmhcqyzrwnct/Resource",
    "aws:asset:path": "asset.0a54d85b76e30fa68fafdb60f16345e7192dd83b39d1d20e59e88f4d72a8c31c",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "dusstackdocumentbulkprocessorklwvnzuavosmhcqyzrwnctSqsEventSourceDUSStackdusstackdocumentbulkprocessingqueueklwvnzuavosmhcqyzrwnctDBAE8B623E284124": {
   "Type": "AWS::Lambda::EventSourceMapping",
   "Properties": {
    "FunctionName": {
     "Ref": "dusstackdocumentbulkprocessorklwvnzuavosmhcqyzrwnct415F0A0F"
    },
    "BatchSize": 5,
    "EventSourceArn": {
     "Fn::GetAtt": [
      "dusstackdocumentbulkprocessingqueueklwvnzuavosmhcqyzrwnct902A8E64",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-documentbulkprocessor-klwvnzuavosmhcqyzrwnct/SqsEventSource:DUSStackdusstackdocumentbulkprocessingqueueklwvnzuavosmhcqyzrwnctDBAE8B62/Resource"
   }
  },
  "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/Resource"
   }
  },
  "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "s3:PutBucketNotification",
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
    "Roles": [
     {
      "Ref": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/DefaultPolicy/Resource"
   }
  },
  "BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Description": "AWS CloudFormation handler for \"Custom::S3BucketNotifications\" resources (@aws-cdk/aws-s3)",
    "Code": {
     "ZipFile": "import boto3  # type: ignore\nimport json\nimport logging\nimport urllib.request\n\ns3 = boto3.client(\"s3\")\n\nEVENTBRIDGE_CONFIGURATION = 'EventBridgeConfiguration'\n\nCONFIGURATION_TYPES = [\"TopicConfigurations\", \"QueueConfigurations\", \"LambdaFunctionConfigurations\"]\n\ndef handler(event: dict, context):\n  response_status = \"SUCCESS\"\n  error_message = \"\"\n  try:\n    props = event[\"ResourceProperties\"]\n    bucket = props[\"BucketName\"]\n    notification_configuration = props[\"NotificationConfiguration\"]\n    request_type = event[\"RequestType\"]\n    managed = props.get('Managed', 'true').lower() == 'true'\n    stack_id = event['StackId']\n\n    if managed:\n      config = handle_managed(request_type, notification_configuration)\n    else:\n      config = handle_unmanaged(bucket, stack_id, request_type, notification_configuration)\n\n    put_bucket_notification_configuration(bucket, config)\n  except Exception as e:\n    logging.exception(\"Failed to put bucket notification configuration\")\n    response_status = \"FAILED\"\n    error_message = f\"Error: {str(e)}. \"\n  finally:\n    submit_response(event, context, response_status, error_message)\n\ndef handle_managed(request_type, notification_configuration):\n  if request_type == 'Delete':\n    return {}\n  return notification_configuration\n\ndef handle_unmanaged(bucket, stack_id, request_type, notification_configuration):\n  external_notifications = find_external_notifications(bucket, stack_id)\n\n  if request_type == 'Delete':\n    return external_notifications\n\n  def with_id(notification):\n    notification['Id'] = f\"{stack_id}-{hash(json.dumps(notification, sort_keys=True))}\"\n    return notification\n\n  notifications = {}\n  for t in CONFIGURATION_TYPES:\n    external = external_notifications.get(t, [])\n    incoming = [with_id(n) for n in notification_configuration.get(t, [])]\n    notifications[t] = external + incoming\n\n  if EVENTBRIDGE_CONFIGURATION in notification_configuration:\n    notifications[EVENTBRIDGE_CONFIGURATION] = notification_configuration[EVENTBRIDGE_CONFIGURATION]\n  elif EVENTBRIDGE_CONFIGURATION in external_notifications:\n    notifications[EVENTBRIDGE_CONFIGURATION] = external_notifications[EVENTBRIDGE_CONFIGURATION]\n\n  return notifications\n\ndef find_external_notifications(bucket, stack_id):\n  existing_notifications = get_bucket_notification_configuration(bucket)\n  external_notifications = {}\n  for t in CONFIGURATION_TYPES:\n    external_notifications[t] = [n for n in existing_notifications.get(t, []) if not n['Id'].startswith(f\"{stack_id}-\")]\n\n  if EVENTBRIDGE_CONFIGURATION in existing_notifications:\n    external_notifications[EVENTBRIDGE_CONFIGURATION] = existing_notifications[EVENTBRIDGE_CONFIGURATION]\n\n  return external_notifications\n\ndef get_bucket_notification_configuration(bucket):\n  return s3.get_bucket_notification_configuration(Bucket=bucket)\n\ndef put_bucket_notification_configuration(bucket, notification_configuration):\n  s3.put_bucket_notification_configuration(Bucket=bucket, NotificationConfiguration=notification_configuration)\n\ndef submit_response(event: dict, context, response_status: str, error_message: str):\n  response_body = json.dumps(\n    {\n      \"Status\": response_status,\n      \"Reason\": f\"{error_message}See the details in CloudWatch Log Stream: {context.log_stream_name}\",\n      \"PhysicalResourceId\": event.get(\"PhysicalResourceId\") or event[\"LogicalResourceId\"],\n      \"StackId\": event[\"StackId\"],\n      \"RequestId\": event[\"RequestId\"],\n      \"LogicalResourceId\": event[\"LogicalResourceId\"],\n      \"NoEcho\": False,\n    }\n  ).encode(\"utf-8\")\n  headers = {\"content-type\": \"\", \"content-length\": str(len(response_body))}\n  try:\n    req = urllib.request.Request(url=event[\"ResponseURL\"], headers=headers, data=response_body, method=\"PUT\")\n    with urllib.request.urlopen(req) as response:\n      print(response.read().decode(\"utf-8\"))\n    print(\"Status code: \" + response.reason)\n  except Exception as e:\n      print(\"send(..) failed executing request.urlopen(..): \" + str(e))\n"
    },
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC",
      "Arn"
     ]
    },
    "Runtime": "python3.8",
    "Timeout": 300
   },
   "DependsOn": [
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
    "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Resource"
   }
  },
  "dusstacktaskprocessorklwvnzuavosmhcqyzrwnctServiceRoleEA03844C": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-taskprocessor-klwvnzuavosmhcqyzrwnct/ServiceRole/Resource"
   }
  },
  "dusstacktaskprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy969F2686": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "xray:PutTraceSegments",
        "xray:PutTelemetryRecords"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "dynamodb:ListStreams",
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "dynamodb:DescribeStream",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackdocumentstableklwvnzuavosmhcqyzrwnctE19E1630",
         "StreamArn"
        ]
       }
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackdocumentstableklwvnzuavosmhcqyzrwnctE19E1630",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "sqs:SendMessage",
        "sqs:GetQueueAttributes",
        "sqs:GetQueueUrl"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstacksyncjobsklwvnzuavosmhcqyzrwnct9FB0A32E",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "sqs:SendMessage",
        "sqs:GetQueueAttributes",
        "sqs:GetQueueUrl"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackasyncjobsklwvnzuavosmhcqyzrwnct8D87B0C8",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "sqs:SendMessage",
        "sqs:GetQueueAttributes",
        "sqs:GetQueueUrl"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackjoberrorhandlerklwvnzuavosmhcqyzrwnct52500D6A",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstacktaskprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy969F2686",
    "Roles": [
     {
      "Ref": "dusstacktaskprocessorklwvnzuavosmhcqyzrwnctServiceRoleEA03844C"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-taskprocessor-klwvnzuavosmhcqyzrwnct/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "dusstacktaskprocessorklwvnzuavosmhcqyzrwnctSecurityGroup1C8E59B4": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function DUSStackdusstacktaskprocessorklwvnzuavosmhcqyzrwnctC43493BC",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnct2491DE91"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-taskprocessor-klwvnzuavosmhcqyzrwnct/SecurityGroup/Resource"
   }
  },
  "dusstacktaskprocessorklwvnzuavosmhcqyzrwnctB21684D7": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Ref": "AssetParameters7aee775bddc2f645066d53945dc35885dc32e6b2d1a3e00158ec9751663f8bb9S3Bucket975A9994"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters7aee775bddc2f645066d53945dc35885dc32e6b2d1a3e00158ec9751663f8bb9S3VersionKeyCC343044"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters7aee775bddc2f645066d53945dc35885dc32e6b2d1a3e00158ec9751663f8bb9S3VersionKeyCC343044"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "dusstacktaskprocessorklwvnzuavosmhcqyzrwnctServiceRoleEA03844C",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "SYNC_QUEUE_URL": {
       "Ref": "dusstacksyncjobsklwvnzuavosmhcqyzrwnct9FB0A32E"
      },
      "ASYNC_QUEUE_URL": {
       "Ref": "dusstackasyncjobsklwvnzuavosmhcqyzrwnct8D87B0C8"
      },
      "ERROR_HANDLER_QUEUE_URL": {
       "Ref": "dusstackjoberrorhandlerklwvnzuavosmhcqyzrwnct52500D6A"
      }
     }
    },
    "Handler": "lambda_function.lambda_handler",
    "Layers": [
     {
      "Ref": "dusstackhelperlayerklwvnzuavosmhcqyzrwnctC82BAE7D"
     },
     {
      "Ref": "dusstackboto3klwvnzuavosmhcqyzrwnct1EE4528D"
     }
    ],
    "ReservedConcurrentExecutions": 30,
    "Runtime": "python3.8",
    "Timeout": 300,
    "TracingConfig": {
     "Mode": "Active"
    },
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "dusstacktaskprocessorklwvnzuavosmhcqyzrwnctSecurityGroup1C8E59B4",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      {
       "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet1Subnet256E87CF"
      },
      {
       "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet2SubnetE28C4948"
      }
     ]
    }
   },
   "DependsOn": [
    "dusstacktaskprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy969F2686",
    "dusstacktaskprocessorklwvnzuavosmhcqyzrwnctServiceRoleEA03844C"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-taskprocessor-klwvnzuavosmhcqyzrwnct/Resource",
    "aws:asset:path": "asset.7aee775bddc2f645066d53945dc35885dc32e6b2d1a3e00158ec9751663f8bb9",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "dusstacktaskprocessorklwvnzuavosmhcqyzrwnctDynamoDBEventSourceDUSStackdusstackdocumentstableklwvnzuavosmhcqyzrwnctE88693BB440C22DF": {
   "Type": "AWS::Lambda::EventSourceMapping",
   "Properties": {
    "FunctionName": {
     "Ref": "dusstacktaskprocessorklwvnzuavosmhcqyzrwnctB21684D7"
    },
    "BatchSize": 1,
    "EventSourceArn": {
     "Fn::GetAtt": [
      "dusstackdocumentstableklwvnzuavosmhcqyzrwnctE19E1630",
      "StreamArn"
     ]
    },
    "StartingPosition": "TRIM_HORIZON"
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-taskprocessor-klwvnzuavosmhcqyzrwnct/DynamoDBEventSource:DUSStackdusstackdocumentstableklwvnzuavosmhcqyzrwnctE88693BB/Resource"
   }
  },
  "dusstackjoberrorhandlerlambdaklwvnzuavosmhcqyzrwnctServiceRole40535B23": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-joberrorhandlerlambda-klwvnzuavosmhcqyzrwnct/ServiceRole/Resource"
   }
  },
  "dusstackjoberrorhandlerlambdaklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy376B8953": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "xray:PutTraceSegments",
        "xray:PutTelemetryRecords"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "sqs:ReceiveMessage",
        "sqs:ChangeMessageVisibility",
        "sqs:GetQueueUrl",
        "sqs:DeleteMessage",
        "sqs:GetQueueAttributes"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackjoberrorhandlerklwvnzuavosmhcqyzrwnct52500D6A",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackdocumentstableklwvnzuavosmhcqyzrwnctE19E1630",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstackjoberrorhandlerlambdaklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy376B8953",
    "Roles": [
     {
      "Ref": "dusstackjoberrorhandlerlambdaklwvnzuavosmhcqyzrwnctServiceRole40535B23"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-joberrorhandlerlambda-klwvnzuavosmhcqyzrwnct/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "dusstackjoberrorhandlerlambdaklwvnzuavosmhcqyzrwnct9EF18ECA": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Ref": "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5S3Bucket72A9658B"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5S3VersionKey97906397"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5S3VersionKey97906397"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "dusstackjoberrorhandlerlambdaklwvnzuavosmhcqyzrwnctServiceRole40535B23",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "DOCUMENTS_TABLE": {
       "Ref": "dusstackdocumentstableklwvnzuavosmhcqyzrwnctE19E1630"
      }
     }
    },
    "Handler": "lambda_function.lambda_handler",
    "Layers": [
     {
      "Ref": "dusstackhelperlayerklwvnzuavosmhcqyzrwnctC82BAE7D"
     }
    ],
    "ReservedConcurrentExecutions": 7,
    "Runtime": "python3.8",
    "Timeout": 60,
    "TracingConfig": {
     "Mode": "Active"
    }
   },
   "DependsOn": [
    "dusstackjoberrorhandlerlambdaklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy376B8953",
    "dusstackjoberrorhandlerlambdaklwvnzuavosmhcqyzrwnctServiceRole40535B23"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-joberrorhandlerlambda-klwvnzuavosmhcqyzrwnct/Resource",
    "aws:asset:path": "asset.c64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "dusstackjoberrorhandlerlambdaklwvnzuavosmhcqyzrwnctSqsEventSourceDUSStackdusstackjoberrorhandlerklwvnzuavosmhcqyzrwnctC45871AD1CF49DD6": {
   "Type": "AWS::Lambda::EventSourceMapping",
   "Properties": {
    "FunctionName": {
     "Ref": "dusstackjoberrorhandlerlambdaklwvnzuavosmhcqyzrwnct9EF18ECA"
    },
    "BatchSize": 1,
    "EventSourceArn": {
     "Fn::GetAtt": [
      "dusstackjoberrorhandlerklwvnzuavosmhcqyzrwnct52500D6A",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-joberrorhandlerlambda-klwvnzuavosmhcqyzrwnct/SqsEventSource:DUSStackdusstackjoberrorhandlerklwvnzuavosmhcqyzrwnctC45871AD/Resource"
   }
  },
  "dusstackpdfgeneratorklwvnzuavosmhcqyzrwnctServiceRole331378E4": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-pdfgenerator-klwvnzuavosmhcqyzrwnct/ServiceRole/Resource"
   }
  },
  "dusstackpdfgeneratorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicyCFFD865B": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "xray:PutTraceSegments",
        "xray:PutTelemetryRecords"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*",
        "s3:DeleteObject*",
        "s3:PutObject*",
        "s3:Abort*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*",
        "s3:DeleteObject*",
        "s3:PutObject*",
        "s3:Abort*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstackpdfgeneratorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicyCFFD865B",
    "Roles": [
     {
      "Ref": "dusstackpdfgeneratorklwvnzuavosmhcqyzrwnctServiceRole331378E4"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-pdfgenerator-klwvnzuavosmhcqyzrwnct/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "dusstackpdfgeneratorklwvnzuavosmhcqyzrwnct3510BFA4": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "dus-installer-app1-us-east-1",
     "S3Key": "dus-legacy/v1.0.0/searchable-pdf-1.0.jar"
    },
    "Role": {
     "Fn::GetAtt": [
      "dusstackpdfgeneratorklwvnzuavosmhcqyzrwnctServiceRole331378E4",
      "Arn"
     ]
    },
    "Handler": "DemoLambdaV2::handleRequest",
    "MemorySize": 3000,
    "ReservedConcurrentExecutions": 30,
    "Runtime": "java8",
    "Timeout": 900,
    "TracingConfig": {
     "Mode": "Active"
    }
   },
   "DependsOn": [
    "dusstackpdfgeneratorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicyCFFD865B",
    "dusstackpdfgeneratorklwvnzuavosmhcqyzrwnctServiceRole331378E4"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-pdfgenerator-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstacksyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleD54D1601": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-syncprocessor-klwvnzuavosmhcqyzrwnct/ServiceRole/Resource"
   }
  },
  "dusstacksyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicyB05CC90F": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "xray:PutTraceSegments",
        "xray:PutTelemetryRecords"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "sqs:ReceiveMessage",
        "sqs:ChangeMessageVisibility",
        "sqs:GetQueueUrl",
        "sqs:DeleteMessage",
        "sqs:GetQueueAttributes"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstacksyncjobsklwvnzuavosmhcqyzrwnct9FB0A32E",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*",
        "s3:DeleteObject*",
        "s3:PutObject*",
        "s3:Abort*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*",
        "s3:DeleteObject*",
        "s3:PutObject*",
        "s3:Abort*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackoutputtableklwvnzuavosmhcqyzrwnct8E6139F0",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackdocumentstableklwvnzuavosmhcqyzrwnctE19E1630",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "kms:Decrypt",
        "kms:Encrypt",
        "kms:ReEncrypt*",
        "kms:GenerateDataKey*"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "esEncryptionKey7A7DDC6B",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "es:ESHttpHead",
        "es:Get*",
        "es:List*",
        "es:Describe*",
        "es:ESHttpGet",
        "es:ESHttpDelete",
        "es:ESHttpPost",
        "es:ESHttpPut"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          {
           "Fn::GetAtt": [
            "dusstackelasticsearchclusterklwvnzuavosmhcqyzrwnct",
            "Arn"
           ]
          },
          "/*"
         ]
        ]
       }
      },
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackpdfgeneratorklwvnzuavosmhcqyzrwnct3510BFA4",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackpdfgeneratorklwvnzuavosmhcqyzrwnct3510BFA4",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "kendra:BatchPutDocument",
        "kendra:SubmitFeedback",
        "kendra:BatchDeleteDocument",
        "kendra:Query"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":kendra:",
          {
           "Ref": "AWS::Region"
          },
          ":",
          {
           "Ref": "AWS::AccountId"
          },
          ":index/*"
         ]
        ]
       }
      },
      {
       "Action": "iam:PassRole",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackduskendraroleklwvnzuavosmhcqyzrwnctD002E2A6",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstacksyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicyB05CC90F",
    "Roles": [
     {
      "Ref": "dusstacksyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleD54D1601"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-syncprocessor-klwvnzuavosmhcqyzrwnct/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "dusstacksyncprocessorklwvnzuavosmhcqyzrwnctSecurityGroupD8D247BE": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function DUSStackdusstacksyncprocessorklwvnzuavosmhcqyzrwnctB9DAADE1",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnct2491DE91"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-syncprocessor-klwvnzuavosmhcqyzrwnct/SecurityGroup/Resource"
   }
  },
  "dusstacksyncprocessorklwvnzuavosmhcqyzrwnct29B91A8A": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Ref": "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655S3BucketF0DADEB8"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655S3VersionKeyCB3B9EFC"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655S3VersionKeyCB3B9EFC"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "dusstacksyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleD54D1601",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "OUTPUT_BUCKET": {
       "Ref": "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2"
      },
      "OUTPUT_TABLE": {
       "Ref": "dusstackoutputtableklwvnzuavosmhcqyzrwnct8E6139F0"
      },
      "DOCUMENTS_TABLE": {
       "Ref": "dusstackdocumentstableklwvnzuavosmhcqyzrwnctE19E1630"
      },
      "ES_DOMAIN": {
       "Fn::GetAtt": [
        "dusstackelasticsearchclusterklwvnzuavosmhcqyzrwnct",
        "DomainEndpoint"
       ]
      },
      "PDF_LAMBDA": {
       "Ref": "dusstackpdfgeneratorklwvnzuavosmhcqyzrwnct3510BFA4"
      },
      "KENDRA_INDEX_ID": {
       "Fn::GetAtt": [
        "dusstackkendraindexcustomresourceklwvnzuavosmhcqyzrwnct",
        "KendraIndexId"
       ]
      },
      "KENDRA_ROLE_ARN": {
       "Fn::GetAtt": [
        "dusstackduskendraroleklwvnzuavosmhcqyzrwnctD002E2A6",
        "Arn"
       ]
      }
     }
    },
    "Handler": "lambda_function.lambda_handler",
    "Layers": [
     {
      "Ref": "dusstackhelperlayerklwvnzuavosmhcqyzrwnctC82BAE7D"
     },
     {
      "Ref": "dusstacktextractorklwvnzuavosmhcqyzrwnctDD177568"
     },
     {
      "Ref": "dusstackboto3klwvnzuavosmhcqyzrwnct1EE4528D"
     },
     {
      "Ref": "dusstackelasticsearchlayerklwvnzuavosmhcqyzrwnct73FD7492"
     }
    ],
    "ReservedConcurrentExecutions": 10,
    "Runtime": "python3.8",
    "Timeout": 900,
    "TracingConfig": {
     "Mode": "Active"
    },
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "dusstacksyncprocessorklwvnzuavosmhcqyzrwnctSecurityGroupD8D247BE",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      {
       "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet1Subnet256E87CF"
      },
      {
       "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet2SubnetE28C4948"
      }
     ]
    }
   },
   "DependsOn": [
    "dusstacksyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicyB05CC90F",
    "dusstacksyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleD54D1601"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-syncprocessor-klwvnzuavosmhcqyzrwnct/Resource",
    "aws:asset:path": "asset.7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "dusstacksyncprocessorklwvnzuavosmhcqyzrwnctSqsEventSourceDUSStackdusstacksyncjobsklwvnzuavosmhcqyzrwnct4F0EA6DC89ED1B7D": {
   "Type": "AWS::Lambda::EventSourceMapping",
   "Properties": {
    "FunctionName": {
     "Ref": "dusstacksyncprocessorklwvnzuavosmhcqyzrwnct29B91A8A"
    },
    "BatchSize": 1,
    "EventSourceArn": {
     "Fn::GetAtt": [
      "dusstacksyncjobsklwvnzuavosmhcqyzrwnct9FB0A32E",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-syncprocessor-klwvnzuavosmhcqyzrwnct/SqsEventSource:DUSStackdusstacksyncjobsklwvnzuavosmhcqyzrwnct4F0EA6DC/Resource"
   }
  },
  "dusstackasyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleB75125EC": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-asyncprocessor-klwvnzuavosmhcqyzrwnct/ServiceRole/Resource"
   }
  },
  "dusstackasyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy4B08BA67": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "xray:PutTraceSegments",
        "xray:PutTelemetryRecords"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "sqs:ReceiveMessage",
        "sqs:ChangeMessageVisibility",
        "sqs:GetQueueUrl",
        "sqs:DeleteMessage",
        "sqs:GetQueueAttributes"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackasyncjobsklwvnzuavosmhcqyzrwnct8D87B0C8",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "iam:PassRole",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstacktextractserviceroleklwvnzuavosmhcqyzrwnctB062E036",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstackasyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy4B08BA67",
    "Roles": [
     {
      "Ref": "dusstackasyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleB75125EC"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-asyncprocessor-klwvnzuavosmhcqyzrwnct/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "dusstackasyncprocessorklwvnzuavosmhcqyzrwnctSecurityGroupD8E9BF9B": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function DUSStackdusstackasyncprocessorklwvnzuavosmhcqyzrwnct37FD2F19",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnct2491DE91"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-asyncprocessor-klwvnzuavosmhcqyzrwnct/SecurityGroup/Resource"
   }
  },
  "dusstackasyncprocessorklwvnzuavosmhcqyzrwnctEE8E8C6A": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Ref": "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1S3BucketCF6D4253"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1S3VersionKey2D245692"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1S3VersionKey2D245692"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "dusstackasyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleB75125EC",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "ASYNC_QUEUE_URL": {
       "Ref": "dusstackasyncjobsklwvnzuavosmhcqyzrwnct8D87B0C8"
      },
      "SNS_TOPIC_ARN": {
       "Ref": "dusstackjobcompletiontopicklwvnzuavosmhcqyzrwnct404C78BD"
      },
      "SNS_ROLE_ARN": {
       "Fn::GetAtt": [
        "dusstacktextractserviceroleklwvnzuavosmhcqyzrwnctB062E036",
        "Arn"
       ]
      }
     }
    },
    "Handler": "lambda_function.lambda_handler",
    "Layers": [
     {
      "Ref": "dusstackhelperlayerklwvnzuavosmhcqyzrwnctC82BAE7D"
     },
     {
      "Ref": "dusstackboto3klwvnzuavosmhcqyzrwnct1EE4528D"
     }
    ],
    "ReservedConcurrentExecutions": 10,
    "Runtime": "python3.8",
    "Timeout": 120,
    "TracingConfig": {
     "Mode": "Active"
    },
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "dusstackasyncprocessorklwvnzuavosmhcqyzrwnctSecurityGroupD8E9BF9B",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      {
       "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet1Subnet256E87CF"
      },
      {
       "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet2SubnetE28C4948"
      }
     ]
    }
   },
   "DependsOn": [
    "dusstackasyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy4B08BA67",
    "dusstackasyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleB75125EC"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-asyncprocessor-klwvnzuavosmhcqyzrwnct/Resource",
    "aws:asset:path": "asset.34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "dusstackasyncprocessorklwvnzuavosmhcqyzrwnctSqsEventSourceDUSStackdusstackasyncjobsklwvnzuavosmhcqyzrwnctD5617AEB9CB6AB2F": {
   "Type": "AWS::Lambda::EventSourceMapping",
   "Properties": {
    "FunctionName": {
     "Ref": "dusstackasyncprocessorklwvnzuavosmhcqyzrwnctEE8E8C6A"
    },
    "BatchSize": 1,
    "EventSourceArn": {
     "Fn::GetAtt": [
      "dusstackasyncjobsklwvnzuavosmhcqyzrwnct8D87B0C8",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-asyncprocessor-klwvnzuavosmhcqyzrwnct/SqsEventSource:DUSStackdusstackasyncjobsklwvnzuavosmhcqyzrwnctD5617AEB/Resource"
   }
  },
  "dusstackjobresultprocessorklwvnzuavosmhcqyzrwnctServiceRole36742D60": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-jobresultprocessor-klwvnzuavosmhcqyzrwnct/ServiceRole/Resource"
   }
  },
  "dusstackjobresultprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicyE8CB83A3": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "xray:PutTraceSegments",
        "xray:PutTelemetryRecords"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "kms:Decrypt",
        "kms:Encrypt",
        "kms:ReEncrypt*",
        "kms:GenerateDataKey*"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackjobresultskeyklwvnzuavosmhcqyzrwnct78ADBE16",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "sqs:ReceiveMessage",
        "sqs:ChangeMessageVisibility",
        "sqs:GetQueueUrl",
        "sqs:DeleteMessage",
        "sqs:GetQueueAttributes"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackjobresultsklwvnzuavosmhcqyzrwnct322BC24D",
         "Arn"
        ]
       }
      },
      {
       "Action": "kms:Decrypt",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackjobresultskeyklwvnzuavosmhcqyzrwnct78ADBE16",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackoutputtableklwvnzuavosmhcqyzrwnct8E6139F0",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackdocumentstableklwvnzuavosmhcqyzrwnctE19E1630",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*",
        "s3:DeleteObject*",
        "s3:PutObject*",
        "s3:Abort*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*",
        "s3:DeleteObject*",
        "s3:PutObject*",
        "s3:Abort*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "es:ESHttpHead",
        "es:Get*",
        "es:List*",
        "es:Describe*",
        "es:ESHttpGet",
        "es:ESHttpDelete",
        "es:ESHttpPost",
        "es:ESHttpPut"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          {
           "Fn::GetAtt": [
            "dusstackelasticsearchclusterklwvnzuavosmhcqyzrwnct",
            "Arn"
           ]
          },
          "/*"
         ]
        ]
       }
      },
      {
       "Action": [
        "kms:Decrypt",
        "kms:Encrypt",
        "kms:ReEncrypt*",
        "kms:GenerateDataKey*"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "esEncryptionKey7A7DDC6B",
         "Arn"
        ]
       }
      },
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackpdfgeneratorklwvnzuavosmhcqyzrwnct3510BFA4",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackpdfgeneratorklwvnzuavosmhcqyzrwnct3510BFA4",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "kendra:BatchPutDocument",
        "kendra:SubmitFeedback",
        "kendra:BatchDeleteDocument",
        "kendra:Query"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":kendra:",
          {
           "Ref": "AWS::Region"
          },
          ":",
          {
           "Ref": "AWS::AccountId"
          },
          ":index/*"
         ]
        ]
       }
      },
      {
       "Action": "iam:PassRole",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackduskendraroleklwvnzuavosmhcqyzrwnctD002E2A6",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstackjobresultprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicyE8CB83A3",
    "Roles": [
     {
      "Ref": "dusstackjobresultprocessorklwvnzuavosmhcqyzrwnctServiceRole36742D60"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-jobresultprocessor-klwvnzuavosmhcqyzrwnct/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "dusstackjobresultprocessorklwvnzuavosmhcqyzrwnctSecurityGroup70488DF6": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function DUSStackdusstackjobresultprocessorklwvnzuavosmhcqyzrwnct466DDBEB",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnct2491DE91"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-jobresultprocessor-klwvnzuavosmhcqyzrwnct/SecurityGroup/Resource"
   }
  },
  "dusstackjobresultprocessorklwvnzuavosmhcqyzrwnct47B661D9": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Ref": "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037S3Bucket24012E8B"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037S3VersionKeyD31E4EB0"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037S3VersionKeyD31E4EB0"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "dusstackjobresultprocessorklwvnzuavosmhcqyzrwnctServiceRole36742D60",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "OUTPUT_BUCKET": {
       "Ref": "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2"
      },
      "OUTPUT_TABLE": {
       "Ref": "dusstackoutputtableklwvnzuavosmhcqyzrwnct8E6139F0"
      },
      "DOCUMENTS_TABLE": {
       "Ref": "dusstackdocumentstableklwvnzuavosmhcqyzrwnctE19E1630"
      },
      "ES_DOMAIN": {
       "Fn::GetAtt": [
        "dusstackelasticsearchclusterklwvnzuavosmhcqyzrwnct",
        "DomainEndpoint"
       ]
      },
      "PDF_LAMBDA": {
       "Ref": "dusstackpdfgeneratorklwvnzuavosmhcqyzrwnct3510BFA4"
      },
      "KENDRA_INDEX_ID": {
       "Fn::GetAtt": [
        "dusstackkendraindexcustomresourceklwvnzuavosmhcqyzrwnct",
        "KendraIndexId"
       ]
      },
      "KENDRA_ROLE_ARN": {
       "Fn::GetAtt": [
        "dusstackduskendraroleklwvnzuavosmhcqyzrwnctD002E2A6",
        "Arn"
       ]
      }
     }
    },
    "Handler": "lambda_function.lambda_handler",
    "Layers": [
     {
      "Ref": "dusstackhelperlayerklwvnzuavosmhcqyzrwnctC82BAE7D"
     },
     {
      "Ref": "dusstacktextractorklwvnzuavosmhcqyzrwnctDD177568"
     },
     {
      "Ref": "dusstackboto3klwvnzuavosmhcqyzrwnct1EE4528D"
     },
     {
      "Ref": "dusstackelasticsearchlayerklwvnzuavosmhcqyzrwnct73FD7492"
     }
    ],
    "MemorySize": 2000,
    "ReservedConcurrentExecutions": 10,
    "Runtime": "python3.8",
    "Timeout": 900,
    "TracingConfig": {
     "Mode": "Active"
    },
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "dusstackjobresultprocessorklwvnzuavosmhcqyzrwnctSecurityGroup70488DF6",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      {
       "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet1Subnet256E87CF"
      },
      {
       "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet2SubnetE28C4948"
      }
     ]
    }
   },
   "DependsOn": [
    "dusstackjobresultprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicyE8CB83A3",
    "dusstackjobresultprocessorklwvnzuavosmhcqyzrwnctServiceRole36742D60"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-jobresultprocessor-klwvnzuavosmhcqyzrwnct/Resource",
    "aws:asset:path": "asset.f25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "dusstackjobresultprocessorklwvnzuavosmhcqyzrwnctSqsEventSourceDUSStackdusstackjobresultsklwvnzuavosmhcqyzrwnct42D7EB6E3F40C694": {
   "Type": "AWS::Lambda::EventSourceMapping",
   "Properties": {
    "FunctionName": {
     "Ref": "dusstackjobresultprocessorklwvnzuavosmhcqyzrwnct47B661D9"
    },
    "BatchSize": 1,
    "EventSourceArn": {
     "Fn::GetAtt": [
      "dusstackjobresultsklwvnzuavosmhcqyzrwnct322BC24D",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-jobresultprocessor-klwvnzuavosmhcqyzrwnct/SqsEventSource:DUSStackdusstackjobresultsklwvnzuavosmhcqyzrwnct42D7EB6E/Resource"
   }
  },
  "textractSyncPolicy8992A727": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "textract:DetectDocumentText",
        "textract:AnalyzeDocument"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "textractSyncPolicy8992A727",
    "Roles": [
     {
      "Ref": "dusstacksyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleD54D1601"
     }
    ]
   },
   "Metadata": {
    "cfn_nag": {
     "rules_to_suppress": [
      {
       "id": "W12",
       "reason": "Currently, some AI services does not support resource level permissions"
      }
     ]
    }
   }
  },
  "textractAsyncPolicy9290AE26": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "textract:StartDocumentTextDetection",
        "textract:StartDocumentAnalysis"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "textractAsyncPolicy9290AE26",
    "Roles": [
     {
      "Ref": "dusstackasyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleB75125EC"
     }
    ]
   },
   "Metadata": {
    "cfn_nag": {
     "rules_to_suppress": [
      {
       "id": "W12",
       "reason": "Currently, some AI services does not support resource level permissions"
      }
     ]
    }
   }
  },
  "textractJobResultsPolicy5D19E09A": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "textract:GetDocumentTextDetection",
        "textract:GetDocumentAnalysis"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "textractJobResultsPolicy5D19E09A",
    "Roles": [
     {
      "Ref": "dusstackjobresultprocessorklwvnzuavosmhcqyzrwnctServiceRole36742D60"
     }
    ]
   },
   "Metadata": {
    "cfn_nag": {
     "rules_to_suppress": [
      {
       "id": "W12",
       "reason": "Currently, some AI services does not support resource level permissions"
      }
     ]
    }
   }
  },
  "comprehendPolicy3D5B3AB3": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "comprehend:BatchDetectEntities",
        "comprehend:DetectEntities"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "comprehendPolicy3D5B3AB3",
    "Roles": [
     {
      "Ref": "dusstacksyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleD54D1601"
     },
     {
      "Ref": "dusstackjobresultprocessorklwvnzuavosmhcqyzrwnctServiceRole36742D60"
     }
    ]
   },
   "Metadata": {
    "cfn_nag": {
     "rules_to_suppress": [
      {
       "id": "W12",
       "reason": "Currently, some AI services does not support resource level permissions"
      }
     ]
    }
   }
  },
  "comprehendMedicalPolicyCC29C4A5": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "comprehendmedical:InferICD10CM",
        "comprehendmedical:DetectEntitiesV2"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "comprehendMedicalPolicyCC29C4A5",
    "Roles": [
     {
      "Ref": "dusstacksyncprocessorklwvnzuavosmhcqyzrwnctServiceRoleD54D1601"
     },
     {
      "Ref": "dusstackjobresultprocessorklwvnzuavosmhcqyzrwnctServiceRole36742D60"
     }
    ]
   },
   "Metadata": {
    "cfn_nag": {
     "rules_to_suppress": [
      {
       "id": "W12",
       "reason": "Currently, some AI services does not support resource level permissions"
      }
     ]
    }
   }
  },
  "dusstackapiprocessorklwvnzuavosmhcqyzrwnctServiceRole3EA98EC5": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-apiprocessor-klwvnzuavosmhcqyzrwnct/ServiceRole/Resource"
   }
  },
  "dusstackapiprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy3B11511A": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "xray:PutTraceSegments",
        "xray:PutTelemetryRecords"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackdocumentstableklwvnzuavosmhcqyzrwnctE19E1630",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": "dynamodb:DescribeTable",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackdocumentstableklwvnzuavosmhcqyzrwnctE19E1630",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackoutputtableklwvnzuavosmhcqyzrwnct8E6139F0",
          "Arn"
         ]
        },
        {
         "Ref": "AWS::NoValue"
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "es:ESHttpHead",
        "es:Get*",
        "es:List*",
        "es:Describe*",
        "es:ESHttpGet",
        "es:ESHttpDelete",
        "es:ESHttpPost",
        "es:ESHttpPut"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          {
           "Fn::GetAtt": [
            "dusstackelasticsearchclusterklwvnzuavosmhcqyzrwnct",
            "Arn"
           ]
          },
          "/*"
         ]
        ]
       }
      },
      {
       "Action": [
        "kms:Decrypt",
        "kms:Encrypt",
        "kms:ReEncrypt*",
        "kms:GenerateDataKey*"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "esEncryptionKey7A7DDC6B",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "kendra:BatchPutDocument",
        "kendra:SubmitFeedback",
        "kendra:BatchDeleteDocument",
        "kendra:Query"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":kendra:",
          {
           "Ref": "AWS::Region"
          },
          ":",
          {
           "Ref": "AWS::AccountId"
          },
          ":index/*"
         ]
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstackapiprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy3B11511A",
    "Roles": [
     {
      "Ref": "dusstackapiprocessorklwvnzuavosmhcqyzrwnctServiceRole3EA98EC5"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-apiprocessor-klwvnzuavosmhcqyzrwnct/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "dusstackapiprocessorklwvnzuavosmhcqyzrwnctSecurityGroupC001E1C5": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Automatic security group for Lambda Function DUSStackdusstackapiprocessorklwvnzuavosmhcqyzrwnct2B3B7712",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": {
     "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnct2491DE91"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-apiprocessor-klwvnzuavosmhcqyzrwnct/SecurityGroup/Resource"
   }
  },
  "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Ref": "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dS3BucketF845A7E1"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dS3VersionKey740B33F7"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dS3VersionKey740B33F7"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctServiceRole3EA98EC5",
      "Arn"
     ]
    },
    "Environment": {
     "Variables": {
      "CONTENT_BUCKET": {
       "Ref": "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2"
      },
      "SAMPLE_BUCKET": {
       "Ref": "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0"
      },
      "OUTPUT_TABLE": {
       "Ref": "dusstackoutputtableklwvnzuavosmhcqyzrwnct8E6139F0"
      },
      "DOCUMENTS_TABLE": {
       "Ref": "dusstackdocumentstableklwvnzuavosmhcqyzrwnctE19E1630"
      },
      "ES_DOMAIN": {
       "Fn::GetAtt": [
        "dusstackelasticsearchclusterklwvnzuavosmhcqyzrwnct",
        "DomainEndpoint"
       ]
      },
      "KENDRA_INDEX_ID": {
       "Fn::GetAtt": [
        "dusstackkendraindexcustomresourceklwvnzuavosmhcqyzrwnct",
        "KendraIndexId"
       ]
      },
      "KENDRA_ROLE_ARN": {
       "Fn::GetAtt": [
        "dusstackduskendraroleklwvnzuavosmhcqyzrwnctD002E2A6",
        "Arn"
       ]
      }
     }
    },
    "Handler": "lambda_function.lambda_handler",
    "Layers": [
     {
      "Ref": "dusstackelasticsearchlayerklwvnzuavosmhcqyzrwnct73FD7492"
     },
     {
      "Ref": "dusstackhelperlayerklwvnzuavosmhcqyzrwnctC82BAE7D"
     }
    ],
    "ReservedConcurrentExecutions": 30,
    "Runtime": "python3.8",
    "Timeout": 60,
    "TracingConfig": {
     "Mode": "Active"
    },
    "VpcConfig": {
     "SecurityGroupIds": [
      {
       "Fn::GetAtt": [
        "dusstackapiprocessorklwvnzuavosmhcqyzrwnctSecurityGroupC001E1C5",
        "GroupId"
       ]
      }
     ],
     "SubnetIds": [
      {
       "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet1Subnet256E87CF"
      },
      {
       "Ref": "dusstackelasticsearchvpcklwvnzuavosmhcqyzrwnctPrivateSubnet2SubnetE28C4948"
      }
     ]
    }
   },
   "DependsOn": [
    "dusstackapiprocessorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy3B11511A",
    "dusstackapiprocessorklwvnzuavosmhcqyzrwnctServiceRole3EA98EC5"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-apiprocessor-klwvnzuavosmhcqyzrwnct/Resource",
    "aws:asset:path": "asset.0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44d",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "EndpointConfiguration": {
     "Types": [
      "REGIONAL"
     ]
    },
    "Name": "dusstack-dusapi-klwvnzuavosmhcqyzrwnct"
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctCloudWatchRoleB34F7C50": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "apigateway.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/CloudWatchRole/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctAccountE4CB236F": {
   "Type": "AWS::ApiGateway::Account",
   "Properties": {
    "CloudWatchRoleArn": {
     "Fn::GetAtt": [
      "dusstackdusapiklwvnzuavosmhcqyzrwnctCloudWatchRoleB34F7C50",
      "Arn"
     ]
    }
   },
   "DependsOn": [
    "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Account"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctDeployment286ADBDE2729a4ff1e5060c99d08877225b8a9b5": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "Description": "Automatically created by the RestApi construct"
   },
   "DependsOn": [
    "dusstackapigwresourcevalidatorklwvnzuavosmhcqyzrwnct2A80D12B",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentDELETEE3EA6CA0",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentGETEE7F4329",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentOPTIONSB652400A",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentPOST7246DBE8",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctdocument8496F3DC",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentsGET8C911D77",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentsOPTIONSF983EB89",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctdocuments8517C7B1",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctfeedbackkendraOPTIONS572E571B",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctfeedbackkendraPOST80398DD4",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctfeedbackkendra5F5CEB7B",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctOPTIONSC9CE1DFF",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctredactGET0EC0F6D1",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctredactOPTIONS0006BD91",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctredactPOST96BCBFC2",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctredact18A64981",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchGETB9016C7E",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchOPTIONS2C2441BD",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchEB62B2A3",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchkendraOPTIONSA6C28716",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchkendraPOSTAA8E08C5",
    "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchkendra3DBF3206"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Deployment/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctDeploymentStageprod1A1F4931": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AccessLogSetting": {
     "DestinationArn": {
      "Fn::GetAtt": [
       "dusstackdusapiloggroupklwvnzuavosmhcqyzrwnctC4CE8C39",
       "Arn"
      ]
     },
     "Format": "{\"requestId\":\"$context.requestId\",\"ip\":\"$context.identity.sourceIp\",\"user\":\"$context.identity.user\",\"caller\":\"$context.identity.caller\",\"requestTime\":\"$context.requestTime\",\"httpMethod\":\"$context.httpMethod\",\"resourcePath\":\"$context.resourcePath\",\"status\":\"$context.status\",\"protocol\":\"$context.protocol\",\"responseLength\":\"$context.responseLength\"}"
    },
    "DeploymentId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctDeployment286ADBDE2729a4ff1e5060c99d08877225b8a9b5"
    },
    "MethodSettings": [
     {
      "DataTraceEnabled": false,
      "HttpMethod": "*",
      "LoggingLevel": "INFO",
      "ResourcePath": "/*"
     }
    ],
    "StageName": "prod"
   },
   "DependsOn": [
    "dusstackdusapiklwvnzuavosmhcqyzrwnctAccountE4CB236F"
   ],
   "Metadata": {
    "cfn_nag": {
     "rules_to_suppress": [
      {
       "id": "W64",
       "reason": "No usage plan intended"
      }
     ]
    }
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctOPTIONSC9CE1DFF": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Fn::GetAtt": [
      "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84",
      "RootResourceId"
     ]
    },
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Credentials": "'false'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
       },
       "StatusCode": "200"
      }
     ],
     "PassthroughBehavior": "NEVER",
     "RequestTemplates": {
      "application/json": "{\"statusCode\": 200}"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestValidatorId": {
     "Ref": "dusstackapigwresourcevalidatorklwvnzuavosmhcqyzrwnct2A80D12B"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/OPTIONS/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchEB62B2A3": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84",
      "RootResourceId"
     ]
    },
    "PathPart": "search",
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/search/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchOPTIONS2C2441BD": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchEB62B2A3"
    },
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Credentials": "'false'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
       },
       "StatusCode": "200"
      }
     ],
     "PassthroughBehavior": "NEVER",
     "RequestTemplates": {
      "application/json": "{\"statusCode\": 200}"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestValidatorId": {
     "Ref": "dusstackapigwresourcevalidatorklwvnzuavosmhcqyzrwnct2A80D12B"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/search/OPTIONS/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchGETApiPermissionDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9GETsearch181D7DB5": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctDeploymentStageprod1A1F4931"
       },
       "/GET/search"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/search/GET/ApiPermission.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.GET..search"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchGETApiPermissionTestDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9GETsearch26C552DB": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/test-invoke-stage/GET/search"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/search/GET/ApiPermission.Test.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.GET..search"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchGETB9016C7E": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "GET",
    "ResourceId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchEB62B2A3"
    },
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "Authorizer"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/search/GET/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctdocuments8517C7B1": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84",
      "RootResourceId"
     ]
    },
    "PathPart": "documents",
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/documents/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentsOPTIONSF983EB89": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctdocuments8517C7B1"
    },
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Credentials": "'false'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
       },
       "StatusCode": "200"
      }
     ],
     "PassthroughBehavior": "NEVER",
     "RequestTemplates": {
      "application/json": "{\"statusCode\": 200}"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestValidatorId": {
     "Ref": "dusstackapigwresourcevalidatorklwvnzuavosmhcqyzrwnct2A80D12B"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/documents/OPTIONS/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentsGETApiPermissionDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9GETdocumentsEAAEB7CE": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctDeploymentStageprod1A1F4931"
       },
       "/GET/documents"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/documents/GET/ApiPermission.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.GET..documents"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentsGETApiPermissionTestDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9GETdocumentsAF37E075": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/test-invoke-stage/GET/documents"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/documents/GET/ApiPermission.Test.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.GET..documents"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentsGET8C911D77": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "GET",
    "ResourceId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctdocuments8517C7B1"
    },
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "Authorizer"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/documents/GET/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctdocument8496F3DC": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84",
      "RootResourceId"
     ]
    },
    "PathPart": "document",
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/document/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentOPTIONSB652400A": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctdocument8496F3DC"
    },
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Credentials": "'false'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
       },
       "StatusCode": "200"
      }
     ],
     "PassthroughBehavior": "NEVER",
     "RequestTemplates": {
      "application/json": "{\"statusCode\": 200}"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestValidatorId": {
     "Ref": "dusstackapigwresourcevalidatorklwvnzuavosmhcqyzrwnct2A80D12B"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/document/OPTIONS/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentGETApiPermissionDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9GETdocument06BF3DCC": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctDeploymentStageprod1A1F4931"
       },
       "/GET/document"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/document/GET/ApiPermission.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.GET..document"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentGETApiPermissionTestDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9GETdocument7049D144": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/test-invoke-stage/GET/document"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/document/GET/ApiPermission.Test.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.GET..document"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentGETEE7F4329": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "GET",
    "ResourceId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctdocument8496F3DC"
    },
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "Authorizer"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/document/GET/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentPOSTApiPermissionDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9POSTdocumentFDDD551A": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctDeploymentStageprod1A1F4931"
       },
       "/POST/document"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/document/POST/ApiPermission.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.POST..document"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentPOSTApiPermissionTestDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9POSTdocumentFC632336": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/test-invoke-stage/POST/document"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/document/POST/ApiPermission.Test.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.POST..document"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentPOST7246DBE8": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "POST",
    "ResourceId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctdocument8496F3DC"
    },
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "Authorizer"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/document/POST/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentDELETEApiPermissionDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9DELETEdocumentE2F0FD58": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctDeploymentStageprod1A1F4931"
       },
       "/DELETE/document"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/document/DELETE/ApiPermission.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.DELETE..document"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentDELETEApiPermissionTestDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9DELETEdocument173E9162": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/test-invoke-stage/DELETE/document"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/document/DELETE/ApiPermission.Test.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.DELETE..document"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctdocumentDELETEE3EA6CA0": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "DELETE",
    "ResourceId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctdocument8496F3DC"
    },
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "Authorizer"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/document/DELETE/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctredact18A64981": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84",
      "RootResourceId"
     ]
    },
    "PathPart": "redact",
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/redact/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctredactOPTIONS0006BD91": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctredact18A64981"
    },
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Credentials": "'false'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
       },
       "StatusCode": "200"
      }
     ],
     "PassthroughBehavior": "NEVER",
     "RequestTemplates": {
      "application/json": "{\"statusCode\": 200}"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestValidatorId": {
     "Ref": "dusstackapigwresourcevalidatorklwvnzuavosmhcqyzrwnct2A80D12B"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/redact/OPTIONS/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctredactGETApiPermissionDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9GETredact0EE91673": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctDeploymentStageprod1A1F4931"
       },
       "/GET/redact"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/redact/GET/ApiPermission.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.GET..redact"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctredactGETApiPermissionTestDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9GETredact98B6FF34": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/test-invoke-stage/GET/redact"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/redact/GET/ApiPermission.Test.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.GET..redact"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctredactGET0EC0F6D1": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "GET",
    "ResourceId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctredact18A64981"
    },
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "Authorizer"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/redact/GET/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctredactPOSTApiPermissionDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9POSTredactBBF8C9D3": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctDeploymentStageprod1A1F4931"
       },
       "/POST/redact"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/redact/POST/ApiPermission.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.POST..redact"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctredactPOSTApiPermissionTestDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9POSTredactD97ADCB0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/test-invoke-stage/POST/redact"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/redact/POST/ApiPermission.Test.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.POST..redact"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctredactPOST96BCBFC2": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "POST",
    "ResourceId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctredact18A64981"
    },
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "Authorizer"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/redact/POST/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctfeedbackkendra5F5CEB7B": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84",
      "RootResourceId"
     ]
    },
    "PathPart": "feedbackkendra",
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/feedbackkendra/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctfeedbackkendraOPTIONS572E571B": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctfeedbackkendra5F5CEB7B"
    },
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Credentials": "'false'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
       },
       "StatusCode": "200"
      }
     ],
     "PassthroughBehavior": "NEVER",
     "RequestTemplates": {
      "application/json": "{\"statusCode\": 200}"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestValidatorId": {
     "Ref": "dusstackapigwresourcevalidatorklwvnzuavosmhcqyzrwnct2A80D12B"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/feedbackkendra/OPTIONS/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctfeedbackkendraPOSTApiPermissionDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9POSTfeedbackkendraC6553B18": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctDeploymentStageprod1A1F4931"
       },
       "/POST/feedbackkendra"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/feedbackkendra/POST/ApiPermission.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.POST..feedbackkendra"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctfeedbackkendraPOSTApiPermissionTestDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9POSTfeedbackkendra135585CF": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/test-invoke-stage/POST/feedbackkendra"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/feedbackkendra/POST/ApiPermission.Test.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.POST..feedbackkendra"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctfeedbackkendraPOST80398DD4": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "POST",
    "ResourceId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctfeedbackkendra5F5CEB7B"
    },
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "Authorizer"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/feedbackkendra/POST/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchkendra3DBF3206": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84",
      "RootResourceId"
     ]
    },
    "PathPart": "searchkendra",
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/searchkendra/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchkendraOPTIONSA6C28716": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "OPTIONS",
    "ResourceId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchkendra3DBF3206"
    },
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AuthorizationType": "NONE",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
        "method.response.header.Access-Control-Allow-Origin": "'*'",
        "method.response.header.Access-Control-Allow-Credentials": "'false'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE'"
       },
       "StatusCode": "200"
      }
     ],
     "PassthroughBehavior": "NEVER",
     "RequestTemplates": {
      "application/json": "{\"statusCode\": 200}"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Methods": true,
       "method.response.header.Access-Control-Allow-Credentials": true,
       "method.response.header.Access-Control-Allow-Origin": true
      },
      "StatusCode": "200"
     }
    ],
    "RequestValidatorId": {
     "Ref": "dusstackapigwresourcevalidatorklwvnzuavosmhcqyzrwnct2A80D12B"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/searchkendra/OPTIONS/Resource"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchkendraPOSTApiPermissionDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9POSTsearchkendra0899DAFA": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctDeploymentStageprod1A1F4931"
       },
       "/POST/searchkendra"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/searchkendra/POST/ApiPermission.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.POST..searchkendra"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchkendraPOSTApiPermissionTestDUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9POSTsearchkendra23B7579A": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
       },
       "/test-invoke-stage/POST/searchkendra"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/searchkendra/POST/ApiPermission.Test.DUSStackdusstackdusapiklwvnzuavosmhcqyzrwnctB10ACED9.POST..searchkendra"
   }
  },
  "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchkendraPOSTAA8E08C5": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "HttpMethod": "POST",
    "ResourceId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctsearchkendra3DBF3206"
    },
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "AuthorizationType": "COGNITO_USER_POOLS",
    "AuthorizerId": {
     "Ref": "Authorizer"
    },
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "dusstackapiprocessorklwvnzuavosmhcqyzrwnctB9188B3B",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-dusapi-klwvnzuavosmhcqyzrwnct/Default/searchkendra/POST/Resource"
   }
  },
  "dusstackapigwresourcevalidatorklwvnzuavosmhcqyzrwnct2A80D12B": {
   "Type": "AWS::ApiGateway::RequestValidator",
   "Properties": {
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "ValidateRequestBody": true,
    "ValidateRequestParameters": true
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-apigwresourcevalidator-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "Authorizer": {
   "Type": "AWS::ApiGateway::Authorizer",
   "Properties": {
    "Name": "Authorization",
    "RestApiId": {
     "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
    },
    "Type": "COGNITO_USER_POOLS",
    "IdentitySource": "method.request.header.Authorization",
    "ProviderARNs": [
     {
      "Fn::GetAtt": [
       "textractuserpool",
       "Arn"
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/Authorizer"
   }
  },
  "dusstackmedicaldatabucketklwvnzuavosmhcqyzrwnctCF059310": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "LoggingConfiguration": {
     "DestinationBucketName": {
      "Ref": "dusstacks3logss3bucketklwvnzuavosmhcqyzrwnctDDBE3772"
     },
     "LogFilePrefix": "medical-data-bucket"
    },
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    },
    "Tags": [
     {
      "Key": "aws-cdk:cr-owned:4e50eb71",
      "Value": "true"
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-medicaldatabucket-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackmedicaldatadeploymentklwvnzuavosmhcqyzrwnctAwsCliLayer34425C6B": {
   "Type": "AWS::Lambda::LayerVersion",
   "Properties": {
    "Content": {
     "S3Bucket": {
      "Ref": "AssetParameters1da15adb9ba73812c695f9922eb752050e0a392eba0a120d36d64bfce7cf8dc5S3BucketA4E7C173"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters1da15adb9ba73812c695f9922eb752050e0a392eba0a120d36d64bfce7cf8dc5S3VersionKey35F67D7E"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters1da15adb9ba73812c695f9922eb752050e0a392eba0a120d36d64bfce7cf8dc5S3VersionKey35F67D7E"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "Description": "/opt/awscli/aws"
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-medicaldatadeployment-klwvnzuavosmhcqyzrwnct/AwsCliLayer/Resource",
    "aws:asset:path": "asset.1da15adb9ba73812c695f9922eb752050e0a392eba0a120d36d64bfce7cf8dc5.zip",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Content"
   }
  },
  "dusstackmedicaldatadeploymentklwvnzuavosmhcqyzrwnctCustomResourceFEF81622": {
   "Type": "Custom::CDKBucketDeployment",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536",
      "Arn"
     ]
    },
    "SourceBucketNames": [
     {
      "Ref": "AssetParameters50c45a7351dcd21119ddc3a8bbd39d9bf4e5f6ba1e033894b9e66f842ce25004S3BucketA6350064"
     }
    ],
    "SourceObjectKeys": [
     {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters50c45a7351dcd21119ddc3a8bbd39d9bf4e5f6ba1e033894b9e66f842ce25004S3VersionKey20ABCF77"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters50c45a7351dcd21119ddc3a8bbd39d9bf4e5f6ba1e033894b9e66f842ce25004S3VersionKey20ABCF77"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    ],
    "DestinationBucketName": {
     "Ref": "dusstackmedicaldatabucketklwvnzuavosmhcqyzrwnctCF059310"
    },
    "Prune": true
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-medicaldatadeployment-klwvnzuavosmhcqyzrwnct/CustomResource/Default"
   }
  },
  "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource"
   }
  },
  "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::",
           {
            "Ref": "AssetParameters50c45a7351dcd21119ddc3a8bbd39d9bf4e5f6ba1e033894b9e66f842ce25004S3BucketA6350064"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":s3:::",
           {
            "Ref": "AssetParameters50c45a7351dcd21119ddc3a8bbd39d9bf4e5f6ba1e033894b9e66f842ce25004S3BucketA6350064"
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*",
        "s3:DeleteObject*",
        "s3:PutObject*",
        "s3:Abort*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackmedicaldatabucketklwvnzuavosmhcqyzrwnctCF059310",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackmedicaldatabucketklwvnzuavosmhcqyzrwnctCF059310",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
    "Roles": [
     {
      "Ref": "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Ref": "AssetParametersf98b78092dcdd31f5e6d47489beb5f804d4835ef86a8085d0a2053cb9ae711daS3BucketF23C0DE7"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParametersf98b78092dcdd31f5e6d47489beb5f804d4835ef86a8085d0a2053cb9ae711daS3VersionKey5E97B17D"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParametersf98b78092dcdd31f5e6d47489beb5f804d4835ef86a8085d0a2053cb9ae711daS3VersionKey5E97B17D"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
      "Arn"
     ]
    },
    "Handler": "index.handler",
    "Layers": [
     {
      "Ref": "dusstackmedicaldatadeploymentklwvnzuavosmhcqyzrwnctAwsCliLayer34425C6B"
     }
    ],
    "Runtime": "python3.7",
    "Timeout": 900
   },
   "DependsOn": [
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
    "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource",
    "aws:asset:path": "asset.f98b78092dcdd31f5e6d47489beb5f804d4835ef86a8085d0a2053cb9ae711da",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "dusstackkendraindexencryptionkeyklwvnzuavosmhcqyzrwnct2AE86FD2": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "KeyPolicy": {
     "Statement": [
      {
       "Action": [
        "kms:Create*",
        "kms:Describe*",
        "kms:Enable*",
        "kms:List*",
        "kms:Put*",
        "kms:Update*",
        "kms:Revoke*",
        "kms:Disable*",
        "kms:Get*",
        "kms:Delete*",
        "kms:ScheduleKeyDeletion",
        "kms:CancelKeyDeletion",
        "kms:GenerateDataKey",
        "kms:TagResource",
        "kms:UntagResource"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":iam::",
           {
            "Ref": "AWS::AccountId"
           },
           ":root"
          ]
         ]
        }
       },
       "Resource": "*"
      },
      {
       "Action": [
        "kms:Decrypt",
        "kms:Encrypt",
        "kms:ReEncrypt*",
        "kms:GenerateDataKey*"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnctServiceRoleC61640B3",
          "Arn"
         ]
        }
       },
       "Resource": "*"
      },
      {
       "Action": [
        "kms:Decrypt",
        "kms:Encrypt",
        "kms:ReEncrypt*",
        "kms:GenerateDataKey*"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::GetAtt": [
          "dusstackoneventdatasourcecreatorklwvnzuavosmhcqyzrwnctServiceRoleA01D08F2",
          "Arn"
         ]
        }
       },
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "EnableKeyRotation": true
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendraindexencryptionkey-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackduskendraroleklwvnzuavosmhcqyzrwnctD002E2A6": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "kendra.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-duskendrarole-klwvnzuavosmhcqyzrwnct/Resource"
   }
  },
  "dusstackduskendraroleklwvnzuavosmhcqyzrwnctDefaultPolicyEB2794C3": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "cloudwatch:PutMetricData",
       "Condition": {
        "StringEquals": {
         "cloudwatch:namespace": "AWS/Kendra"
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "logs:DescribeLogGroups",
       "Condition": {
        "StringEquals": {
         "cloudwatch:namespace": "AWS/Kendra"
        }
       },
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "logs:CreateLogGroup",
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":logs:",
          {
           "Ref": "AWS::Region"
          },
          ":",
          {
           "Ref": "AWS::AccountId"
          },
          ":log-group:/aws/kendra/*"
         ]
        ]
       }
      },
      {
       "Action": [
        "logs:DescribeLogStreams",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":logs:",
          {
           "Ref": "AWS::Region"
          },
          ":",
          {
           "Ref": "AWS::AccountId"
          },
          ":log-group:/aws/kendra/*:log-stream:*"
         ]
        ]
       }
      },
      {
       "Action": [
        "s3:GetObject",
        "s3:ListBucket"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackmedicaldatabucketklwvnzuavosmhcqyzrwnctCF059310",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackmedicaldatabucketklwvnzuavosmhcqyzrwnctCF059310",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        },
        {
         "Fn::GetAtt": [
          "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackdocumentss3bucketklwvnzuavosmhcqyzrwnctE8C3D2F2",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        },
        {
         "Fn::GetAtt": [
          "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstacksampless3bucketklwvnzuavosmhcqyzrwnct95E445E0",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstackduskendraroleklwvnzuavosmhcqyzrwnctDefaultPolicyEB2794C3",
    "Roles": [
     {
      "Ref": "dusstackduskendraroleklwvnzuavosmhcqyzrwnctD002E2A6"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-duskendrarole-klwvnzuavosmhcqyzrwnct/DefaultPolicy/Resource"
   }
  },
  "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnctServiceRoleC61640B3": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-oneventkendraindexhandler-klwvnzuavosmhcqyzrwnct/ServiceRole/Resource"
   }
  },
  "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy68CF2B0E": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "kms:Decrypt",
        "kms:Encrypt",
        "kms:ReEncrypt*",
        "kms:GenerateDataKey*"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackkendraindexencryptionkeyklwvnzuavosmhcqyzrwnct2AE86FD2",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "kendra:CreateIndex",
        "kendra:TagResource"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "kendra:DeleteIndex",
        "kendra:DescribeIndex",
        "kendra:UpdateIndex"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":kendra:",
          {
           "Ref": "AWS::Region"
          },
          ":",
          {
           "Ref": "AWS::AccountId"
          },
          ":index/*"
         ]
        ]
       }
      },
      {
       "Action": [
        "kms:ListKeys",
        "kms:ListAliases",
        "kms:DescribeKey",
        "kms:CreateGrant"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":kms:",
          {
           "Ref": "AWS::Region"
          },
          ":",
          {
           "Ref": "AWS::AccountId"
          },
          ":key/",
          {
           "Ref": "dusstackkendraindexencryptionkeyklwvnzuavosmhcqyzrwnct2AE86FD2"
          }
         ]
        ]
       }
      },
      {
       "Action": "iam:PassRole",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackduskendraroleklwvnzuavosmhcqyzrwnctD002E2A6",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy68CF2B0E",
    "Roles": [
     {
      "Ref": "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnctServiceRoleC61640B3"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-oneventkendraindexhandler-klwvnzuavosmhcqyzrwnct/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnct481A2008": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Ref": "AssetParameters2c60ca135463e1995ea670d88f7abb2232e2017060e24e1078a66b9dc405248aS3BucketEC852C58"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters2c60ca135463e1995ea670d88f7abb2232e2017060e24e1078a66b9dc405248aS3VersionKey2B5066C7"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters2c60ca135463e1995ea670d88f7abb2232e2017060e24e1078a66b9dc405248aS3VersionKey2B5066C7"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnctServiceRoleC61640B3",
      "Arn"
     ]
    },
    "Description": "onEvent handler for creating Kendra index",
    "Environment": {
     "Variables": {
      "KENDRA_ROLE_ARN": {
       "Fn::GetAtt": [
        "dusstackduskendraroleklwvnzuavosmhcqyzrwnctD002E2A6",
        "Arn"
       ]
      },
      "KMS_KEY_ID": {
       "Ref": "dusstackkendraindexencryptionkeyklwvnzuavosmhcqyzrwnct2AE86FD2"
      },
      "KENDRA_INDEX_CLIENT_TOKEN": "klwvnzuavosmhcqyzrwnct"
     }
    },
    "Handler": "lambda_function.lambda_handler",
    "Layers": [
     {
      "Ref": "dusstackboto3klwvnzuavosmhcqyzrwnct1EE4528D"
     }
    ],
    "Runtime": "python3.8",
    "Timeout": 900
   },
   "DependsOn": [
    "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy68CF2B0E",
    "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnctServiceRoleC61640B3"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-oneventkendraindexhandler-klwvnzuavosmhcqyzrwnct/Resource",
    "aws:asset:path": "asset.2c60ca135463e1995ea670d88f7abb2232e2017060e24e1078a66b9dc405248a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctServiceRole1AFCD702": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-iscompletekendraindexpoller-klwvnzuavosmhcqyzrwnct/ServiceRole/Resource"
   }
  },
  "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy6157C422": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "kendra:DescribeIndex",
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":kendra:",
          {
           "Ref": "AWS::Region"
          },
          ":",
          {
           "Ref": "AWS::AccountId"
          },
          ":index/*"
         ]
        ]
       }
      },
      {
       "Action": "kendra:ListIndices",
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "iam:PassRole",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackduskendraroleklwvnzuavosmhcqyzrwnctD002E2A6",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy6157C422",
    "Roles": [
     {
      "Ref": "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctServiceRole1AFCD702"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-iscompletekendraindexpoller-klwvnzuavosmhcqyzrwnct/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctEC40F38D": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Ref": "AssetParametersbde9f2bf5b1a496b49b8753983d08bad1d4fc04fe2388c005ad884d4d8334bceS3Bucket3F1B3BF6"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParametersbde9f2bf5b1a496b49b8753983d08bad1d4fc04fe2388c005ad884d4d8334bceS3VersionKey71910E1B"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParametersbde9f2bf5b1a496b49b8753983d08bad1d4fc04fe2388c005ad884d4d8334bceS3VersionKey71910E1B"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctServiceRole1AFCD702",
      "Arn"
     ]
    },
    "Description": "isComplete handler to check for Kendra Index creation",
    "Handler": "lambda_function.lambda_handler",
    "Layers": [
     {
      "Ref": "dusstackboto3klwvnzuavosmhcqyzrwnct1EE4528D"
     }
    ],
    "Runtime": "python3.8",
    "Timeout": 900
   },
   "DependsOn": [
    "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy6157C422",
    "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctServiceRole1AFCD702"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-iscompletekendraindexpoller-klwvnzuavosmhcqyzrwnct/Resource",
    "aws:asset:path": "asset.bde9f2bf5b1a496b49b8753983d08bad1d4fc04fe2388c005ad884d4d8334bce",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonEventServiceRole9ADF0B55": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendraindexprovider-klwvnzuavosmhcqyzrwnct/framework-onEvent/ServiceRole/Resource"
   }
  },
  "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonEventServiceRoleDefaultPolicy21F02DD5": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnct481A2008",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnct481A2008",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctEC40F38D",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctEC40F38D",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "states:StartExecution",
       "Effect": "Allow",
       "Resource": {
        "Ref": "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctwaiterstatemachineF9DBD47E"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonEventServiceRoleDefaultPolicy21F02DD5",
    "Roles": [
     {
      "Ref": "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonEventServiceRole9ADF0B55"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendraindexprovider-klwvnzuavosmhcqyzrwnct/framework-onEvent/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonEvent5B2C4663": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Ref": "AssetParameters3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671S3Bucket766250D8"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671S3VersionKey850D9181"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671S3VersionKey850D9181"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonEventServiceRole9ADF0B55",
      "Arn"
     ]
    },
    "Description": "AWS CDK resource provider framework - onEvent (DUSStack/dusstack-kendraindexprovider-klwvnzuavosmhcqyzrwnct)",
    "Environment": {
     "Variables": {
      "USER_ON_EVENT_FUNCTION_ARN": {
       "Fn::GetAtt": [
        "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnct481A2008",
        "Arn"
       ]
      },
      "USER_IS_COMPLETE_FUNCTION_ARN": {
       "Fn::GetAtt": [
        "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctEC40F38D",
        "Arn"
       ]
      },
      "WAITER_STATE_MACHINE_ARN": {
       "Ref": "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctwaiterstatemachineF9DBD47E"
      }
     }
    },
    "Handler": "framework.onEvent",
    "Runtime": "nodejs14.x",
    "Timeout": 900
   },
   "DependsOn": [
    "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonEventServiceRoleDefaultPolicy21F02DD5",
    "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonEventServiceRole9ADF0B55"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendraindexprovider-klwvnzuavosmhcqyzrwnct/framework-onEvent/Resource",
    "aws:asset:path": "asset.3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkisCompleteServiceRoleD49BA757": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendraindexprovider-klwvnzuavosmhcqyzrwnct/framework-isComplete/ServiceRole/Resource"
   }
  },
  "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkisCompleteServiceRoleDefaultPolicy2A066D07": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnct481A2008",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnct481A2008",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctEC40F38D",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctEC40F38D",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkisCompleteServiceRoleDefaultPolicy2A066D07",
    "Roles": [
     {
      "Ref": "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkisCompleteServiceRoleD49BA757"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendraindexprovider-klwvnzuavosmhcqyzrwnct/framework-isComplete/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkisComplete2984503F": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Ref": "AssetParameters3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671S3Bucket766250D8"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671S3VersionKey850D9181"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671S3VersionKey850D9181"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkisCompleteServiceRoleD49BA757",
      "Arn"
     ]
    },
    "Description": "AWS CDK resource provider framework - isComplete (DUSStack/dusstack-kendraindexprovider-klwvnzuavosmhcqyzrwnct)",
    "Environment": {
     "Variables": {
      "USER_ON_EVENT_FUNCTION_ARN": {
       "Fn::GetAtt": [
        "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnct481A2008",
        "Arn"
       ]
      },
      "USER_IS_COMPLETE_FUNCTION_ARN": {
       "Fn::GetAtt": [
        "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctEC40F38D",
        "Arn"
       ]
      }
     }
    },
    "Handler": "framework.isComplete",
    "Runtime": "nodejs14.x",
    "Timeout": 900
   },
   "DependsOn": [
    "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkisCompleteServiceRoleDefaultPolicy2A066D07",
    "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkisCompleteServiceRoleD49BA757"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendraindexprovider-klwvnzuavosmhcqyzrwnct/framework-isComplete/Resource",
    "aws:asset:path": "asset.3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonTimeoutServiceRoleE68D8C3F": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendraindexprovider-klwvnzuavosmhcqyzrwnct/framework-onTimeout/ServiceRole/Resource"
   }
  },
  "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonTimeoutServiceRoleDefaultPolicy191F3F65": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnct481A2008",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnct481A2008",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctEC40F38D",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctEC40F38D",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonTimeoutServiceRoleDefaultPolicy191F3F65",
    "Roles": [
     {
      "Ref": "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonTimeoutServiceRoleE68D8C3F"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendraindexprovider-klwvnzuavosmhcqyzrwnct/framework-onTimeout/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonTimeoutD220D179": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Ref": "AssetParameters3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671S3Bucket766250D8"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671S3VersionKey850D9181"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671S3VersionKey850D9181"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonTimeoutServiceRoleE68D8C3F",
      "Arn"
     ]
    },
    "Description": "AWS CDK resource provider framework - onTimeout (DUSStack/dusstack-kendraindexprovider-klwvnzuavosmhcqyzrwnct)",
    "Environment": {
     "Variables": {
      "USER_ON_EVENT_FUNCTION_ARN": {
       "Fn::GetAtt": [
        "dusstackoneventkendraindexhandlerklwvnzuavosmhcqyzrwnct481A2008",
        "Arn"
       ]
      },
      "USER_IS_COMPLETE_FUNCTION_ARN": {
       "Fn::GetAtt": [
        "dusstackiscompletekendraindexpollerklwvnzuavosmhcqyzrwnctEC40F38D",
        "Arn"
       ]
      }
     }
    },
    "Handler": "framework.onTimeout",
    "Runtime": "nodejs14.x",
    "Timeout": 900
   },
   "DependsOn": [
    "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonTimeoutServiceRoleDefaultPolicy191F3F65",
    "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonTimeoutServiceRoleE68D8C3F"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendraindexprovider-klwvnzuavosmhcqyzrwnct/framework-onTimeout/Resource",
    "aws:asset:path": "asset.3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctwaiterstatemachineRole1D7D7A45": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": {
         "Fn::FindInMap": [
          "ServiceprincipalMap",
          {
           "Ref": "AWS::Region"
          },
          "states"
         ]
        }
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendraindexprovider-klwvnzuavosmhcqyzrwnct/waiter-state-machine/Role/Resource"
   }
  },
  "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctwaiterstatemachineRoleDefaultPolicyB6B6AD93": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkisComplete2984503F",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkisComplete2984503F",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonTimeoutD220D179",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonTimeoutD220D179",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctwaiterstatemachineRoleDefaultPolicyB6B6AD93",
    "Roles": [
     {
      "Ref": "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctwaiterstatemachineRole1D7D7A45"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendraindexprovider-klwvnzuavosmhcqyzrwnct/waiter-state-machine/Role/DefaultPolicy/Resource"
   }
  },
  "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctwaiterstatemachineF9DBD47E": {
   "Type": "AWS::StepFunctions::StateMachine",
   "Properties": {
    "DefinitionString": {
     "Fn::Join": [
      "",
      [
       "{\"StartAt\":\"framework-isComplete-task\",\"States\":{\"framework-isComplete-task\":{\"End\":true,\"Retry\":[{\"ErrorEquals\":[\"States.ALL\"],\"IntervalSeconds\":60,\"MaxAttempts\":60,\"BackoffRate\":1}],\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"Next\":\"framework-onTimeout-task\"}],\"Type\":\"Task\",\"Resource\":\"",
       {
        "Fn::GetAtt": [
         "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkisComplete2984503F",
         "Arn"
        ]
       },
       "\"},\"framework-onTimeout-task\":{\"End\":true,\"Type\":\"Task\",\"Resource\":\"",
       {
        "Fn::GetAtt": [
         "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonTimeoutD220D179",
         "Arn"
        ]
       },
       "\"}}}"
      ]
     ]
    },
    "RoleArn": {
     "Fn::GetAtt": [
      "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctwaiterstatemachineRole1D7D7A45",
      "Arn"
     ]
    }
   },
   "DependsOn": [
    "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctwaiterstatemachineRoleDefaultPolicyB6B6AD93",
    "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctwaiterstatemachineRole1D7D7A45"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendraindexprovider-klwvnzuavosmhcqyzrwnct/waiter-state-machine/Resource"
   }
  },
  "dusstackkendraindexcustomresourceklwvnzuavosmhcqyzrwnct": {
   "Type": "AWS::CloudFormation::CustomResource",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "dusstackkendraindexproviderklwvnzuavosmhcqyzrwnctframeworkonEvent5B2C4663",
      "Arn"
     ]
    },
    "kendraKMSKeyId": {
     "Ref": "dusstackkendraindexencryptionkeyklwvnzuavosmhcqyzrwnct2AE86FD2"
    },
    "KendraRoleArn": {
     "Fn::GetAtt": [
      "dusstackduskendraroleklwvnzuavosmhcqyzrwnctD002E2A6",
      "Arn"
     ]
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendraindexcustomresource-klwvnzuavosmhcqyzrwnct/Default"
   }
  },
  "dusstackoneventdatasourcecreatorklwvnzuavosmhcqyzrwnctServiceRoleA01D08F2": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-oneventdatasourcecreator-klwvnzuavosmhcqyzrwnct/ServiceRole/Resource"
   }
  },
  "dusstackoneventdatasourcecreatorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy23B58900": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "kms:Decrypt",
        "kms:Encrypt",
        "kms:ReEncrypt*",
        "kms:GenerateDataKey*"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackkendraindexencryptionkeyklwvnzuavosmhcqyzrwnct2AE86FD2",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*",
        "s3:DeleteObject*",
        "s3:PutObject*",
        "s3:Abort*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackbulkprocessingbucketklwvnzuavosmhcqyzrwnctB35AF414",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackbulkprocessingbucketklwvnzuavosmhcqyzrwnctB35AF414",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "s3:GetObject*",
        "s3:GetBucket*",
        "s3:List*",
        "s3:DeleteObject*",
        "s3:PutObject*",
        "s3:Abort*"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackmedicaldatabucketklwvnzuavosmhcqyzrwnctCF059310",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackmedicaldatabucketklwvnzuavosmhcqyzrwnctCF059310",
             "Arn"
            ]
           },
           "/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "kendra:CreateDataSource",
        "kendra:StartDataSourceSyncJob",
        "kendra:TagResource",
        "kendra:CreateFaq"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":kendra:",
          {
           "Ref": "AWS::Region"
          },
          ":",
          {
           "Ref": "AWS::AccountId"
          },
          ":index/*"
         ]
        ]
       }
      },
      {
       "Action": "iam:PassRole",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "dusstackduskendraroleklwvnzuavosmhcqyzrwnctD002E2A6",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstackoneventdatasourcecreatorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy23B58900",
    "Roles": [
     {
      "Ref": "dusstackoneventdatasourcecreatorklwvnzuavosmhcqyzrwnctServiceRoleA01D08F2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-oneventdatasourcecreator-klwvnzuavosmhcqyzrwnct/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "dusstackoneventdatasourcecreatorklwvnzuavosmhcqyzrwnct957C6007": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Ref": "AssetParameterse095337321e8da42d7ca47a3efe70c66726da47b6b49fce5b351a78cc3afa04aS3Bucket290AF177"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameterse095337321e8da42d7ca47a3efe70c66726da47b6b49fce5b351a78cc3afa04aS3VersionKey4EA58815"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameterse095337321e8da42d7ca47a3efe70c66726da47b6b49fce5b351a78cc3afa04aS3VersionKey4EA58815"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "dusstackoneventdatasourcecreatorklwvnzuavosmhcqyzrwnctServiceRoleA01D08F2",
      "Arn"
     ]
    },
    "Description": "onEvent handler for creating Kendra data source",
    "Environment": {
     "Variables": {
      "KENDRA_ROLE_ARN": {
       "Fn::GetAtt": [
        "dusstackduskendraroleklwvnzuavosmhcqyzrwnctD002E2A6",
        "Arn"
       ]
      },
      "KMS_KEY_ID": {
       "Ref": "dusstackkendraindexencryptionkeyklwvnzuavosmhcqyzrwnct2AE86FD2"
      },
      "KENDRA_INDEX_ID": {
       "Fn::GetAtt": [
        "dusstackkendraindexcustomresourceklwvnzuavosmhcqyzrwnct",
        "KendraIndexId"
       ]
      },
      "DATA_BUCKET_NAME": {
       "Ref": "dusstackmedicaldatabucketklwvnzuavosmhcqyzrwnctCF059310"
      },
      "BULK_PROCESSING_BUCKET": {
       "Ref": "dusstackbulkprocessingbucketklwvnzuavosmhcqyzrwnctB35AF414"
      }
     }
    },
    "Handler": "lambda_function.lambda_handler",
    "Layers": [
     {
      "Ref": "dusstackboto3klwvnzuavosmhcqyzrwnct1EE4528D"
     }
    ],
    "Runtime": "python3.8",
    "Timeout": 900
   },
   "DependsOn": [
    "dusstackoneventdatasourcecreatorklwvnzuavosmhcqyzrwnctServiceRoleDefaultPolicy23B58900",
    "dusstackoneventdatasourcecreatorklwvnzuavosmhcqyzrwnctServiceRoleA01D08F2"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-oneventdatasourcecreator-klwvnzuavosmhcqyzrwnct/Resource",
    "aws:asset:path": "asset.e095337321e8da42d7ca47a3efe70c66726da47b6b49fce5b351a78cc3afa04a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "dusstackkendradatasourceproviderklwvnzuavosmhcqyzrwnctframeworkonEventServiceRoleEAC4FF53": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendradatasourceprovider-klwvnzuavosmhcqyzrwnct/framework-onEvent/ServiceRole/Resource"
   }
  },
  "dusstackkendradatasourceproviderklwvnzuavosmhcqyzrwnctframeworkonEventServiceRoleDefaultPolicy658BE89F": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "dusstackoneventdatasourcecreatorklwvnzuavosmhcqyzrwnct957C6007",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "dusstackoneventdatasourcecreatorklwvnzuavosmhcqyzrwnct957C6007",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "dusstackkendradatasourceproviderklwvnzuavosmhcqyzrwnctframeworkonEventServiceRoleDefaultPolicy658BE89F",
    "Roles": [
     {
      "Ref": "dusstackkendradatasourceproviderklwvnzuavosmhcqyzrwnctframeworkonEventServiceRoleEAC4FF53"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendradatasourceprovider-klwvnzuavosmhcqyzrwnct/framework-onEvent/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "dusstackkendradatasourceproviderklwvnzuavosmhcqyzrwnctframeworkonEvent7259DFCA": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Ref": "AssetParameters3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671S3Bucket766250D8"
     },
     "S3Key": {
      "Fn::Join": [
       "",
       [
        {
         "Fn::Select": [
          0,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671S3VersionKey850D9181"
            }
           ]
          }
         ]
        },
        {
         "Fn::Select": [
          1,
          {
           "Fn::Split": [
            "||",
            {
             "Ref": "AssetParameters3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671S3VersionKey850D9181"
            }
           ]
          }
         ]
        }
       ]
      ]
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "dusstackkendradatasourceproviderklwvnzuavosmhcqyzrwnctframeworkonEventServiceRoleEAC4FF53",
      "Arn"
     ]
    },
    "Description": "AWS CDK resource provider framework - onEvent (DUSStack/dusstack-kendradatasourceprovider-klwvnzuavosmhcqyzrwnct)",
    "Environment": {
     "Variables": {
      "USER_ON_EVENT_FUNCTION_ARN": {
       "Fn::GetAtt": [
        "dusstackoneventdatasourcecreatorklwvnzuavosmhcqyzrwnct957C6007",
        "Arn"
       ]
      }
     }
    },
    "Handler": "framework.onEvent",
    "Runtime": "nodejs14.x",
    "Timeout": 900
   },
   "DependsOn": [
    "dusstackkendradatasourceproviderklwvnzuavosmhcqyzrwnctframeworkonEventServiceRoleDefaultPolicy658BE89F",
    "dusstackkendradatasourceproviderklwvnzuavosmhcqyzrwnctframeworkonEventServiceRoleEAC4FF53"
   ],
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendradatasourceprovider-klwvnzuavosmhcqyzrwnct/framework-onEvent/Resource",
    "aws:asset:path": "asset.3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "dusstackkendradatasourcecustomresourceklwvnzuavosmhcqyzrwnct": {
   "Type": "AWS::CloudFormation::CustomResource",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "dusstackkendradatasourceproviderklwvnzuavosmhcqyzrwnctframeworkonEvent7259DFCA",
      "Arn"
     ]
    },
    "KENDRA_INDEX_ID": {
     "Fn::GetAtt": [
      "dusstackkendraindexcustomresourceklwvnzuavosmhcqyzrwnct",
      "KendraIndexId"
     ]
    },
    "KendraRoleArn": {
     "Fn::GetAtt": [
      "dusstackduskendraroleklwvnzuavosmhcqyzrwnctD002E2A6",
      "Arn"
     ]
    },
    "DataBucketName": {
     "Ref": "dusstackmedicaldatabucketklwvnzuavosmhcqyzrwnctCF059310"
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "DUSStack/dusstack-kendradatasourcecustomresource-klwvnzuavosmhcqyzrwnct/Default"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/21UyXLbMAz9ltxpZuv0XMdZJtOmUe3UOVMU4iCWCIWLM65G/16QWjvNRXwACBB44uO5vDj7Is9OvqkPt9DF/rTRZEE2G6/0XqzIOG+D9mL1YtbgKFgNEXOgQI9kxOhdOgee03ZodnFLpqyqwIONxmPwdeAqwXmq5oUeVF1zQivi+Y27lM1V0HtIB/aoWzIqUR8nd293xpVy0ApdUiheLBkvm0eL3MhSa3DuvgDj0afkVdxzG/d8vmMMP0N+jTw85iHNyblzuxWgL2SzrXWMbLOVyELOHW1CbrruJ7Sm4OFJ5SVM/snHvJFGNRySAhHc3Gdx+an8nfLwoY4is3hgOBW+N0wv42FD10lvLT3/wteKBxMb0MHyeHeWQp16mDtaUdLOyeYH7cYNA27FvuLQd0jFeeG5S+U8agfK6lcZaaFKoRHO8MYnqjEx0gFu1WmL9TDc3G4Fqko2a+poSev0kzvUiuJoVEVFzqUHAhNohXvn834FCMnZgfSdisxMvh20M+hJNhz47cBmRKWY4bjO7VWJkbtIc387hoy5HduemGYqVZUXislUR7BbsK6f/B/7Nhg9UDLimwMX2CRh9KJIt+BTbwa2QpdqbdhVgqexEDNzuWhUVKOTSZSigLqkY2xQdnq5Hh0svBp33Y2JXcfuWZ9+WWOv+QGyUigwIVNu0sRkRe13NzyBQeVRm+IB/CsVSfAdmr8BI17De+ADt6rEQnmyXfB/3zJwDYt/wLYD44syErzgV0SXKJcfjn9f4lzo9OYsbH+Ik5mlAxacKwwVIN/c6eH8Kz+D8uLkzSEuLE+JFch1t/4FQdrSSCIFAAA="
   },
   "Metadata": {
    "aws:cdk:path": "DUSStack/CDKMetadata/Default"
   },
   "Condition": "CDKMetadataAvailable"
  }
 },
 "Conditions": {
  "NonGovCloudPartition": {
   "Fn::Not": [
    {
     "Fn::Equals": [
      "aws-us-gov",
      {
       "Ref": "AWS::Partition"
      }
     ]
    }
   ]
  },
  "CDKMetadataAvailable": {
   "Fn::Or": [
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "af-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-northeast-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-northeast-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-southeast-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-southeast-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ca-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "cn-north-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "cn-northwest-1"
       ]
      }
     ]
    },
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-north-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-3"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "me-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "sa-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-east-2"
       ]
      }
     ]
    },
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-west-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-west-2"
       ]
      }
     ]
    }
   ]
  }
 },
 "Parameters": {
  "AssetParametersd558412c606e9eb5ec7ea4d8a5b32d8ed6e459c54e162694770d0e9fada396dfS3BucketA9022858": {
   "Type": "String",
   "Description": "S3 bucket for asset \"d558412c606e9eb5ec7ea4d8a5b32d8ed6e459c54e162694770d0e9fada396df\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParametersd558412c606e9eb5ec7ea4d8a5b32d8ed6e459c54e162694770d0e9fada396dfS3VersionKeyD2004705": {
   "Type": "String",
   "Description": "S3 key for asset version \"d558412c606e9eb5ec7ea4d8a5b32d8ed6e459c54e162694770d0e9fada396df\"",
   "Default": "assets/||d558412c606e9eb5ec7ea4d8a5b32d8ed6e459c54e162694770d0e9fada396df.zip"
  },
  "AssetParametersd558412c606e9eb5ec7ea4d8a5b32d8ed6e459c54e162694770d0e9fada396dfArtifactHash5A1D7A06": {
   "Type": "String",
   "Description": "Artifact hash for asset \"d558412c606e9eb5ec7ea4d8a5b32d8ed6e459c54e162694770d0e9fada396df\"",
   "Default": "d558412c606e9eb5ec7ea4d8a5b32d8ed6e459c54e162694770d0e9fada396df"
  },
  "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67S3BucketE167FF79": {
   "Type": "String",
   "Description": "S3 bucket for asset \"9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67S3VersionKey9C912232": {
   "Type": "String",
   "Description": "S3 key for asset version \"9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67\"",
   "Default": "assets/||9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67.zip"
  },
  "AssetParameters9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67ArtifactHash01E0E5E4": {
   "Type": "String",
   "Description": "Artifact hash for asset \"9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67\"",
   "Default": "9acbc3715f8b660f6ab9fb65adc280fcbde091d8f7d835a0ec52b7446eebac67"
  },
  "AssetParameters181a7f6eebcf61ab3dc159de340bb7c799229ee840587000362de752b73c5959S3Bucket4FCDB1B7": {
   "Type": "String",
   "Description": "S3 bucket for asset \"181a7f6eebcf61ab3dc159de340bb7c799229ee840587000362de752b73c5959\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParameters181a7f6eebcf61ab3dc159de340bb7c799229ee840587000362de752b73c5959S3VersionKey62A59BE2": {
   "Type": "String",
   "Description": "S3 key for asset version \"181a7f6eebcf61ab3dc159de340bb7c799229ee840587000362de752b73c5959\"",
   "Default": "assets/||181a7f6eebcf61ab3dc159de340bb7c799229ee840587000362de752b73c5959.zip"
  },
  "AssetParameters181a7f6eebcf61ab3dc159de340bb7c799229ee840587000362de752b73c5959ArtifactHashC949A655": {
   "Type": "String",
   "Description": "Artifact hash for asset \"181a7f6eebcf61ab3dc159de340bb7c799229ee840587000362de752b73c5959\"",
   "Default": "181a7f6eebcf61ab3dc159de340bb7c799229ee840587000362de752b73c5959"
  },
  "AssetParameters0a54d85b76e30fa68fafdb60f16345e7192dd83b39d1d20e59e88f4d72a8c31cS3Bucket1CF1AE5E": {
   "Type": "String",
   "Description": "S3 bucket for asset \"0a54d85b76e30fa68fafdb60f16345e7192dd83b39d1d20e59e88f4d72a8c31c\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParameters0a54d85b76e30fa68fafdb60f16345e7192dd83b39d1d20e59e88f4d72a8c31cS3VersionKey766403FA": {
   "Type": "String",
   "Description": "S3 key for asset version \"0a54d85b76e30fa68fafdb60f16345e7192dd83b39d1d20e59e88f4d72a8c31c\"",
   "Default": "assets/||0a54d85b76e30fa68fafdb60f16345e7192dd83b39d1d20e59e88f4d72a8c31c.zip"
  },
  "AssetParameters0a54d85b76e30fa68fafdb60f16345e7192dd83b39d1d20e59e88f4d72a8c31cArtifactHash0EB11B72": {
   "Type": "String",
   "Description": "Artifact hash for asset \"0a54d85b76e30fa68fafdb60f16345e7192dd83b39d1d20e59e88f4d72a8c31c\"",
   "Default": "0a54d85b76e30fa68fafdb60f16345e7192dd83b39d1d20e59e88f4d72a8c31c"
  },
  "AssetParameters7aee775bddc2f645066d53945dc35885dc32e6b2d1a3e00158ec9751663f8bb9S3Bucket975A9994": {
   "Type": "String",
   "Description": "S3 bucket for asset \"7aee775bddc2f645066d53945dc35885dc32e6b2d1a3e00158ec9751663f8bb9\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParameters7aee775bddc2f645066d53945dc35885dc32e6b2d1a3e00158ec9751663f8bb9S3VersionKeyCC343044": {
   "Type": "String",
   "Description": "S3 key for asset version \"7aee775bddc2f645066d53945dc35885dc32e6b2d1a3e00158ec9751663f8bb9\"",
   "Default": "assets/||7aee775bddc2f645066d53945dc35885dc32e6b2d1a3e00158ec9751663f8bb9.zip"
  },
  "AssetParameters7aee775bddc2f645066d53945dc35885dc32e6b2d1a3e00158ec9751663f8bb9ArtifactHashB7B645F8": {
   "Type": "String",
   "Description": "Artifact hash for asset \"7aee775bddc2f645066d53945dc35885dc32e6b2d1a3e00158ec9751663f8bb9\"",
   "Default": "7aee775bddc2f645066d53945dc35885dc32e6b2d1a3e00158ec9751663f8bb9"
  },
  "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5S3Bucket72A9658B": {
   "Type": "String",
   "Description": "S3 bucket for asset \"c64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5S3VersionKey97906397": {
   "Type": "String",
   "Description": "S3 key for asset version \"c64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5\"",
   "Default": "assets/||c64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5.zip"
  },
  "AssetParametersc64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5ArtifactHash382E6212": {
   "Type": "String",
   "Description": "Artifact hash for asset \"c64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5\"",
   "Default": "c64f0aefd884e2bb1dffde28585ecc406f60180d97cd57a5e4978075d43cb9c5"
  },
  "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655S3BucketF0DADEB8": {
   "Type": "String",
   "Description": "S3 bucket for asset \"7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655S3VersionKeyCB3B9EFC": {
   "Type": "String",
   "Description": "S3 key for asset version \"7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655\"",
   "Default": "assets/||7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655.zip"
  },
  "AssetParameters7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655ArtifactHashBC5FB2DB": {
   "Type": "String",
   "Description": "Artifact hash for asset \"7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655\"",
   "Default": "7e7483c7f6b2d2bcc8221d18711ce19d6dd745532fa6ec00834ca7f2a1db4655"
  },
  "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1S3BucketCF6D4253": {
   "Type": "String",
   "Description": "S3 bucket for asset \"34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1S3VersionKey2D245692": {
   "Type": "String",
   "Description": "S3 key for asset version \"34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1\"",
   "Default": "assets/||34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1.zip"
  },
  "AssetParameters34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1ArtifactHashDEABADF6": {
   "Type": "String",
   "Description": "Artifact hash for asset \"34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1\"",
   "Default": "34f36d262896e10312c0d3292463a75e722b9aa799fe0df73102d981ffee0ce1"
  },
  "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037S3Bucket24012E8B": {
   "Type": "String",
   "Description": "S3 bucket for asset \"f25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037S3VersionKeyD31E4EB0": {
   "Type": "String",
   "Description": "S3 key for asset version \"f25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037\"",
   "Default": "assets/||f25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037.zip"
  },
  "AssetParametersf25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037ArtifactHash898AE926": {
   "Type": "String",
   "Description": "Artifact hash for asset \"f25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037\"",
   "Default": "f25f5a995f8fe273f547782f35b1e44fb7ac796200b64c568192d0eff7cdc037"
  },
  "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dS3BucketF845A7E1": {
   "Type": "String",
   "Description": "S3 bucket for asset \"0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44d\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dS3VersionKey740B33F7": {
   "Type": "String",
   "Description": "S3 key for asset version \"0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44d\"",
   "Default": "assets/||0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44d.zip"
  },
  "AssetParameters0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44dArtifactHashA14325E2": {
   "Type": "String",
   "Description": "Artifact hash for asset \"0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44d\"",
   "Default": "0b79599fa5352e498af90b39a606dcfd30b5002be0d66462be2ab75eaf94e44d"
  },
  "AssetParameters1da15adb9ba73812c695f9922eb752050e0a392eba0a120d36d64bfce7cf8dc5S3BucketA4E7C173": {
   "Type": "String",
   "Description": "S3 bucket for asset \"1da15adb9ba73812c695f9922eb752050e0a392eba0a120d36d64bfce7cf8dc5\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParameters1da15adb9ba73812c695f9922eb752050e0a392eba0a120d36d64bfce7cf8dc5S3VersionKey35F67D7E": {
   "Type": "String",
   "Description": "S3 key for asset version \"1da15adb9ba73812c695f9922eb752050e0a392eba0a120d36d64bfce7cf8dc5\"",
   "Default": "assets/||1da15adb9ba73812c695f9922eb752050e0a392eba0a120d36d64bfce7cf8dc5.zip"
  },
  "AssetParameters1da15adb9ba73812c695f9922eb752050e0a392eba0a120d36d64bfce7cf8dc5ArtifactHashF0E84BB2": {
   "Type": "String",
   "Description": "Artifact hash for asset \"1da15adb9ba73812c695f9922eb752050e0a392eba0a120d36d64bfce7cf8dc5\"",
   "Default": "1da15adb9ba73812c695f9922eb752050e0a392eba0a120d36d64bfce7cf8dc5"
  },
  "AssetParametersf98b78092dcdd31f5e6d47489beb5f804d4835ef86a8085d0a2053cb9ae711daS3BucketF23C0DE7": {
   "Type": "String",
   "Description": "S3 bucket for asset \"f98b78092dcdd31f5e6d47489beb5f804d4835ef86a8085d0a2053cb9ae711da\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParametersf98b78092dcdd31f5e6d47489beb5f804d4835ef86a8085d0a2053cb9ae711daS3VersionKey5E97B17D": {
   "Type": "String",
   "Description": "S3 key for asset version \"f98b78092dcdd31f5e6d47489beb5f804d4835ef86a8085d0a2053cb9ae711da\"",
   "Default": "assets/||f98b78092dcdd31f5e6d47489beb5f804d4835ef86a8085d0a2053cb9ae711da.zip"
  },
  "AssetParametersf98b78092dcdd31f5e6d47489beb5f804d4835ef86a8085d0a2053cb9ae711daArtifactHashD85D28D8": {
   "Type": "String",
   "Description": "Artifact hash for asset \"f98b78092dcdd31f5e6d47489beb5f804d4835ef86a8085d0a2053cb9ae711da\"",
   "Default": "f98b78092dcdd31f5e6d47489beb5f804d4835ef86a8085d0a2053cb9ae711da"
  },
  "AssetParameters50c45a7351dcd21119ddc3a8bbd39d9bf4e5f6ba1e033894b9e66f842ce25004S3BucketA6350064": {
   "Type": "String",
   "Description": "S3 bucket for asset \"50c45a7351dcd21119ddc3a8bbd39d9bf4e5f6ba1e033894b9e66f842ce25004\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParameters50c45a7351dcd21119ddc3a8bbd39d9bf4e5f6ba1e033894b9e66f842ce25004S3VersionKey20ABCF77": {
   "Type": "String",
   "Description": "S3 key for asset version \"50c45a7351dcd21119ddc3a8bbd39d9bf4e5f6ba1e033894b9e66f842ce25004\"",
   "Default": "assets/||50c45a7351dcd21119ddc3a8bbd39d9bf4e5f6ba1e033894b9e66f842ce25004.zip"
  },
  "AssetParameters50c45a7351dcd21119ddc3a8bbd39d9bf4e5f6ba1e033894b9e66f842ce25004ArtifactHash788EC36F": {
   "Type": "String",
   "Description": "Artifact hash for asset \"50c45a7351dcd21119ddc3a8bbd39d9bf4e5f6ba1e033894b9e66f842ce25004\"",
   "Default": "50c45a7351dcd21119ddc3a8bbd39d9bf4e5f6ba1e033894b9e66f842ce25004"
  },
  "AssetParameters2c60ca135463e1995ea670d88f7abb2232e2017060e24e1078a66b9dc405248aS3BucketEC852C58": {
   "Type": "String",
   "Description": "S3 bucket for asset \"2c60ca135463e1995ea670d88f7abb2232e2017060e24e1078a66b9dc405248a\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParameters2c60ca135463e1995ea670d88f7abb2232e2017060e24e1078a66b9dc405248aS3VersionKey2B5066C7": {
   "Type": "String",
   "Description": "S3 key for asset version \"2c60ca135463e1995ea670d88f7abb2232e2017060e24e1078a66b9dc405248a\"",
   "Default": "assets/||2c60ca135463e1995ea670d88f7abb2232e2017060e24e1078a66b9dc405248a.zip"
  },
  "AssetParameters2c60ca135463e1995ea670d88f7abb2232e2017060e24e1078a66b9dc405248aArtifactHash5AB9A8A2": {
   "Type": "String",
   "Description": "Artifact hash for asset \"2c60ca135463e1995ea670d88f7abb2232e2017060e24e1078a66b9dc405248a\"",
   "Default": "2c60ca135463e1995ea670d88f7abb2232e2017060e24e1078a66b9dc405248a"
  },
  "AssetParametersbde9f2bf5b1a496b49b8753983d08bad1d4fc04fe2388c005ad884d4d8334bceS3Bucket3F1B3BF6": {
   "Type": "String",
   "Description": "S3 bucket for asset \"bde9f2bf5b1a496b49b8753983d08bad1d4fc04fe2388c005ad884d4d8334bce\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParametersbde9f2bf5b1a496b49b8753983d08bad1d4fc04fe2388c005ad884d4d8334bceS3VersionKey71910E1B": {
   "Type": "String",
   "Description": "S3 key for asset version \"bde9f2bf5b1a496b49b8753983d08bad1d4fc04fe2388c005ad884d4d8334bce\"",
   "Default": "assets/||bde9f2bf5b1a496b49b8753983d08bad1d4fc04fe2388c005ad884d4d8334bce.zip"
  },
  "AssetParametersbde9f2bf5b1a496b49b8753983d08bad1d4fc04fe2388c005ad884d4d8334bceArtifactHash3FC98F40": {
   "Type": "String",
   "Description": "Artifact hash for asset \"bde9f2bf5b1a496b49b8753983d08bad1d4fc04fe2388c005ad884d4d8334bce\"",
   "Default": "bde9f2bf5b1a496b49b8753983d08bad1d4fc04fe2388c005ad884d4d8334bce"
  },
  "AssetParameters3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671S3Bucket766250D8": {
   "Type": "String",
   "Description": "S3 bucket for asset \"3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParameters3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671S3VersionKey850D9181": {
   "Type": "String",
   "Description": "S3 key for asset version \"3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671\"",
   "Default": "assets/||3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671.zip"
  },
  "AssetParameters3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671ArtifactHashC40EE1D5": {
   "Type": "String",
   "Description": "Artifact hash for asset \"3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671\"",
   "Default": "3b263c2ad043fd069ef446753788c36e595c82b51a70478e58258c8ef7471671"
  },
  "AssetParameterse095337321e8da42d7ca47a3efe70c66726da47b6b49fce5b351a78cc3afa04aS3Bucket290AF177": {
   "Type": "String",
   "Description": "S3 bucket for asset \"e095337321e8da42d7ca47a3efe70c66726da47b6b49fce5b351a78cc3afa04a\"",
   "Default": "documentunderstandingcdktoolkit-stagingbucket-8c9pd4xcjabs"
  },
  "AssetParameterse095337321e8da42d7ca47a3efe70c66726da47b6b49fce5b351a78cc3afa04aS3VersionKey4EA58815": {
   "Type": "String",
   "Description": "S3 key for asset version \"e095337321e8da42d7ca47a3efe70c66726da47b6b49fce5b351a78cc3afa04a\"",
   "Default": "assets/||e095337321e8da42d7ca47a3efe70c66726da47b6b49fce5b351a78cc3afa04a.zip"
  },
  "AssetParameterse095337321e8da42d7ca47a3efe70c66726da47b6b49fce5b351a78cc3afa04aArtifactHash776B6952": {
   "Type": "String",
   "Description": "Artifact hash for asset \"e095337321e8da42d7ca47a3efe70c66726da47b6b49fce5b351a78cc3afa04a\"",
   "Default": "e095337321e8da42d7ca47a3efe70c66726da47b6b49fce5b351a78cc3afa04a"
  }
 },
 "Outputs": {
  "dusstackdusapiklwvnzuavosmhcqyzrwnctEndpoint70CE6DCE": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnct730B7C84"
      },
      ".execute-api.",
      {
       "Ref": "AWS::Region"
      },
      ".",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "dusstackdusapiklwvnzuavosmhcqyzrwnctDeploymentStageprod1A1F4931"
      },
      "/"
     ]
    ]
   }
  }
 },
 "Mappings": {
  "ServiceprincipalMap": {
   "af-south-1": {
    "states": "states.af-south-1.amazonaws.com"
   },
   "ap-east-1": {
    "states": "states.ap-east-1.amazonaws.com"
   },
   "ap-northeast-1": {
    "states": "states.ap-northeast-1.amazonaws.com"
   },
   "ap-northeast-2": {
    "states": "states.ap-northeast-2.amazonaws.com"
   },
   "ap-northeast-3": {
    "states": "states.ap-northeast-3.amazonaws.com"
   },
   "ap-south-1": {
    "states": "states.ap-south-1.amazonaws.com"
   },
   "ap-southeast-1": {
    "states": "states.ap-southeast-1.amazonaws.com"
   },
   "ap-southeast-2": {
    "states": "states.ap-southeast-2.amazonaws.com"
   },
   "ap-southeast-3": {
    "states": "states.ap-southeast-3.amazonaws.com"
   },
   "ca-central-1": {
    "states": "states.ca-central-1.amazonaws.com"
   },
   "cn-north-1": {
    "states": "states.cn-north-1.amazonaws.com"
   },
   "cn-northwest-1": {
    "states": "states.cn-northwest-1.amazonaws.com"
   },
   "eu-central-1": {
    "states": "states.eu-central-1.amazonaws.com"
   },
   "eu-north-1": {
    "states": "states.eu-north-1.amazonaws.com"
   },
   "eu-south-1": {
    "states": "states.eu-south-1.amazonaws.com"
   },
   "eu-south-2": {
    "states": "states.eu-south-2.amazonaws.com"
   },
   "eu-west-1": {
    "states": "states.eu-west-1.amazonaws.com"
   },
   "eu-west-2": {
    "states": "states.eu-west-2.amazonaws.com"
   },
   "eu-west-3": {
    "states": "states.eu-west-3.amazonaws.com"
   },
   "me-south-1": {
    "states": "states.me-south-1.amazonaws.com"
   },
   "sa-east-1": {
    "states": "states.sa-east-1.amazonaws.com"
   },
   "us-east-1": {
    "states": "states.us-east-1.amazonaws.com"
   },
   "us-east-2": {
    "states": "states.us-east-2.amazonaws.com"
   },
   "us-gov-east-1": {
    "states": "states.us-gov-east-1.amazonaws.com"
   },
   "us-gov-west-1": {
    "states": "states.us-gov-west-1.amazonaws.com"
   },
   "us-iso-east-1": {
    "states": "states.amazonaws.com"
   },
   "us-iso-west-1": {
    "states": "states.amazonaws.com"
   },
   "us-isob-east-1": {
    "states": "states.amazonaws.com"
   },
   "us-west-1": {
    "states": "states.us-west-1.amazonaws.com"
   },
   "us-west-2": {
    "states": "states.us-west-2.amazonaws.com"
   }
  }
 }
}
